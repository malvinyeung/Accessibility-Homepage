/*
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ============

 Adobe Visitor API for JavaScript version: 1.3.1
 Copyright 1996-2013 Adobe, Inc. All Rights Reserved
 More info available at http://www.omniture.com
 */
function Visitor(e,t){if(!e)throw"Visitor requires adobe Marketing Cloud Org ID";var n=this;n.version="1.3.1";var r=window,i=r.Visitor;r.s_c_in||(r.s_c_il=[],r.s_c_in=0),n._c="Visitor",n._il=r.s_c_il,n._in=r.s_c_in,n._il[n._in]=n,r.s_c_in++;var o=r.document,a=r.O;a||(a=null);var s=r.P;s||(s=!0);var l=r.N;l||(l=!1),n.C=function(e){var t,n,r=0;if(e)for(t=0;t<e.length;t++)n=e.charCodeAt(t),r=(r<<5)-r+n,r&=r;return r},n.m=function(e){var t,n="0123456789",r="",i="",o=8,a=10,s=10;if(1==e){for(n+="ABCDEF",e=0;16>e;e++)t=Math.floor(Math.random()*o),r+=n.substring(t,t+1),t=Math.floor(Math.random()*o),i+=n.substring(t,t+1),o=16;return r+"-"+i}for(e=0;19>e;e++)t=Math.floor(Math.random()*a),r+=n.substring(t,t+1),a=0==e&&9==t?3:10,t=Math.floor(Math.random()*s),i+=n.substring(t,t+1),s=0==e&&9==t?3:10;return r+i},n.I=function(){var e;if(!e&&r.location&&(e=r.location.hostname),e)if(/^[0-9.]+$/.test(e))e="";else{var t=e.split("."),n=t.length-1,i=n-1;if(n>1&&2>=t[n].length&&(2==t[n-1].length||0>",ac,ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,be,bf,bg,bh,bi,bj,bm,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,cl,cm,cn,co,cr,cu,cv,cw,cx,cz,de,dj,dk,dm,do,dz,ec,ee,eg,es,eu,fi,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,im,in,io,iq,ir,is,it,je,jo,jp,kg,ki,km,kn,kp,kr,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mg,mh,mk,ml,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,na,nc,ne,nf,ng,nl,no,nr,nu,nz,om,pa,pe,pf,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,st,su,sv,sx,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tp,tt,tv,tw,tz,ua,ug,uk,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,yt,nd,".indexOf(","+t[n]+","))&&i--,i>0)for(e="";n>=i;)e=t[n]+(e?".":"")+e,n--}return e},n.cookieRead=function(e){var e=encodeURIComponent(e),t=(";"+o.cookie).split(" ").join(";"),n=t.indexOf(";"+e+"="),r=0>n?n:t.indexOf(";",n+1);return 0>n?"":decodeURIComponent(t.substring(n+2+e.length,0>r?t.length:r))},n.cookieWrite=function(e,t,r){var i,a=n.cookieLifetime,t=""+t,a=a?(""+a).toUpperCase():"";return r&&"SESSION"!=a&&"NONE"!=a?(i=""!=t?parseInt(a?a:0):-60)?(r=new Date,r.setTime(r.getTime()+1e3*i)):1==r&&(r=new Date,i=r.getYear(),r.setYear(i+2+(1900>i?1900:0))):r=0,e&&"NONE"!=a?(o.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+"; path=/;"+(r?" expires="+r.toGMTString()+";":"")+(n.cookieDomain?" domain="+n.cookieDomain+";":""),n.cookieRead(e)==t):0},n.e=a,n.w=function(e,t){try{"function"==typeof e?e.apply(r,t):e[1].apply(e[0],t)}catch(n){}},n.L=function(e,t){t&&(n.e==a&&(n.e={}),void 0==n.e[e]&&(n.e[e]=[]),n.e[e].push(t))},n.l=function(e,t){if(n.e!=a){var r=n.e[e];if(r)for(;0<r.length;)n.w(r.shift(),t)}},n.j=a,n.J=function(e,t,r){!t&&r&&r();var i=o.getElementsByTagName("HEAD")[0],s=o.createElement("SCRIPT");s.type="text/javascript",s.setAttribute("async","async"),s.src=t,i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),r&&(n.j==a&&(n.j={}),n.j[e]=setTimeout(r,n.loadTimeout))},n.H=function(e){n.j!=a&&n.j[e]&&(clearTimeout(n.j[e]),n.j[e]=0)},n.D=l,n.F=l,n.isAllowed=function(){return!n.D&&(n.D=s,n.cookieRead(n.cookieName)||n.cookieWrite(n.cookieName,"T",1))&&(n.F=s),n.F},n.a=a,n.c=a;var u=n.V;u||(u="MC");var c=n.Y;c||(c="MCMID");var d=n.X;d||(d="MCCIDH");var p=n.W;p||(p="MCAS");var f=n.T;f||(f="A");var h=n.Q;h||(h="MCAID");var y=n.U;y||(y="AAM");var m=n.S;m||(m="MCAAMLH");var g=n.R;g||(g="MCAAMB");var v=n.Z;if(v||(v="NONE"),n.t=0,n.B=function(){if(!n.t){var e=n.version;if(n.audienceManagerServer&&(e+="|"+n.audienceManagerServer),n.audienceManagerServerSecure&&(e+="|"+n.audienceManagerServerSecure),n.audienceManagerCustomerIDDPIDs)for(var t in n.audienceManagerCustomerIDDPIDs)!Object.prototype[t]&&n.audienceManagerCustomerIDDPIDs[t]&&(e+=t+"="+n.audienceManagerCustomerIDDPIDs[t]);n.t=n.C(e)}return n.t},n.G=l,n.h=function(){if(!n.G){n.G=s;var e,t,r,i=n.B(),o=l,u=n.cookieRead(n.cookieName),c=new Date;if(n.a==a&&(n.a={}),u&&"T"!=u)for(u=u.split("|"),u[0].match(/^[\-0-9]+$/)&&(parseInt(u[0])!=i&&(o=s),u.shift()),1==u.length%2&&u.pop(),i=0;i<u.length;i+=2)e=u[i].split("-"),t=e[0],r=u[i+1],e=1<e.length?parseInt(e[1]):0,o&&(t==d&&(r=""),e>0&&(e=c.getTime()/1e3-60)),t&&r&&(n.d(t,r,1),e>0&&(n.a["expire"+t]=e,c.getTime()>=1e3*e&&(n.c||(n.c={}),n.c[t]=s)));!n.b(h)&&(u=n.cookieRead("s_vi"))&&(u=u.split("|"),1<u.length&&0<=u[0].indexOf("v1")&&(r=u[1],i=r.indexOf("["),i>=0&&(r=r.substring(0,i)),r&&r.match(/^[0-9a-fA-F\-]+$/)&&n.d(h,r)))}},n.M=function(){var e,t,r=n.B();for(e in n.a)!Object.prototype[e]&&n.a[e]&&"expire"!=e.substring(0,6)&&(t=n.a[e],r+=(r?"|":"")+e+(n.a["expire"+e]?"-"+n.a["expire"+e]:"")+"|"+t);n.cookieWrite(n.cookieName,r,1)},n.b=function(e,t){return n.a==a||!t&&n.c&&n.c[e]?a:n.a[e]},n.d=function(e,t,r){n.a==a&&(n.a={}),n.a[e]=t,r||n.M()},n.p=function(e,t){var r=new Date;r.setTime(r.getTime()+1e3*t),n.a==a&&(n.a={}),n.a["expire"+e]=Math.floor(r.getTime()/1e3),0>t&&(n.c||(n.c={}),n.c[e]=s)},n.A=function(e){return e&&("object"==typeof e&&(e=e.d_mid?e.d_mid:e.visitorID?e.visitorID:e.id?e.id:e.uuid?e.uuid:""+e),e&&(e=e.toUpperCase(),"NOTARGET"==e&&(e=v)),!e||e!=v&&!e.match(/^[0-9a-fA-F\-]+$/))&&(e=""),e},n.i=function(e,t){if(n.H(e),n.g!=a&&(n.g[e]=l),e==u){var r=n.b(c);if(!r){if(r="object"==typeof t&&t.mid?t.mid:n.A(t),!r){if(n.r)return void n.getAnalyticsVisitorID(null,!1,!0);r=n.m()}n.d(c,r)}r&&r!=v||(r=""),"object"==typeof t&&((t.d_region||t.dcs_region||t.d_blob||t.blob)&&n.i(y,t),n.r&&t.mid&&n.i(f,{id:t.id})),n.l(c,[r])}if(e==y&&"object"==typeof t){r=604800,void 0!=t.id_sync_ttl&&t.id_sync_ttl&&(r=parseInt(t.id_sync_ttl));var i=n.b(m);i||((i=t.d_region)||(i=t.dcs_region),i&&(n.p(m,r),n.d(m,i))),i||(i=""),n.l(m,[i]),i=n.b(g),(t.d_blob||t.blob)&&((i=t.d_blob)||(i=t.blob),n.p(g,r),n.d(g,i)),i||(i=""),n.l(g,[i]),!t.error_msg&&n.o&&n.d(d,n.o)}e==f&&(r=n.b(h),r||((r=n.A(t))?n.p(g,-1):r=v,n.d(h,r)),r&&r!=v||(r=""),n.l(h,[r]))},n.g=a,n.n=function(e,t,r,i){var o,l="";return n.isAllowed()&&(n.h(),l=n.b(e),!l&&(e==c?o=u:e==m||e==g?o=y:e==h&&(o=f),o))?(!t||n.g!=a&&n.g[o]||(n.g==a&&(n.g={}),n.g[o]=s,n.J(o,t,function(){if(!n.b(e)){var t="";e==c&&(t=n.m()),n.i(o,t)}})),n.L(e,r),t||n.i(o,{id:v}),""):(e!=c&&e!=h||l!=v||(l="",i=s),r&&i&&n.w(r,[l]),l)},n._setMarketingCloudFields=function(e){n.h(),n.i(u,e)},n.setMarketingCloudVisitorID=function(e){n._setMarketingCloudFields(e)},n.r=l,n.getMarketingCloudVisitorID=function(e,t){return n.isAllowed()?(n.marketingCloudServer&&0>n.marketingCloudServer.indexOf(".demdex.net")&&(n.r=s),n.n(c,n.s("_setMarketingCloudFields"),e,t)):""},n.K=function(){n.getAudienceManagerBlob()},n.f={},n.z=l,n.o="",n.setCustomerIDs=function(e){if(n.f=e,n.isAllowed()){n.h();var t,r,e=n.b(d),i="";e||(e=0);for(t in n.f)r=n.f[t],!Object.prototype[t]&&r&&(i+=(i?"|":"")+t+"|"+r);n.o=n.C(i),n.o!=e&&(n.z=s,n.K())}},n.getCustomerIDs=function(){return n.f},n._setAnalyticsFields=function(e){n.h(),n.i(f,e)},n.setAnalyticsVisitorID=function(e){n._setAnalyticsFields(e)},n.getAnalyticsVisitorID=function(e,t,r){if(n.isAllowed()){var i="";if(r||(i=n.getMarketingCloudVisitorID(function(){n.getAnalyticsVisitorID(e,s)})),i||r){var o=r?n.marketingCloudServer:n.trackingServer,a="";return n.loadSSL&&(r?n.marketingCloudServerSecure&&(o=n.marketingCloudServerSecure):n.trackingServerSecure&&(o=n.trackingServerSecure)),o&&(a="http"+(n.loadSSL?"s":"")+"://"+o+"/id?callback=s_c_il%5B"+n._in+"%5D._set"+(r?"MarketingCloud":"Analytics")+"Fields&mcorgid="+encodeURIComponent(n.marketingCloudOrgID)+(i?"&mid="+i:"")),n.n(r?c:h,a,e,t)}}return""},n._setAudienceManagerFields=function(e){n.h(),n.i(y,e)},n.s=function(e){var t,r,i=n.audienceManagerServer,o="",a=n.b(c),l=n.b(g,s),u=n.b(h),u=u&&u!=v?"&d_cid_ic=AVID%01"+encodeURIComponent(u):"",d="";if(n.loadSSL&&n.audienceManagerServerSecure&&(i=n.audienceManagerServerSecure),i){if(n.f)for(t in n.f)!Object.prototype[t]&&(o=n.f[t])&&(u+="&d_cid_ic="+encodeURIComponent(t)+"%01"+encodeURIComponent(o),n.audienceManagerCustomerIDDPIDs&&(r=n.audienceManagerCustomerIDDPIDs[t])&&(d+="&d_cid="+r+"%01"+encodeURIComponent(o)));e||(e="_setAudienceManagerFields"),o="http"+(n.loadSSL?"s":"")+"://"+i+"/id?d_rtbd=json&d_ver=2"+(!a&&n.r?"&d_verify=1":"")+"&d_orgid="+encodeURIComponent(n.marketingCloudOrgID)+(a?"&d_mid="+a:"")+(l?"&d_blob="+encodeURIComponent(l):"")+u+d+"&d_cb=s_c_il%5B"+n._in+"%5D."+e}return o},n.getAudienceManagerLocationHint=function(e,t){if(n.isAllowed()&&n.getMarketingCloudVisitorID(function(){n.getAudienceManagerLocationHint(e,s)})){var r=n.b(h);if(r||(r=n.getAnalyticsVisitorID(function(){n.getAudienceManagerLocationHint(e,s)})),r)return n.n(m,n.s(),e,t)}return""},n.getAudienceManagerBlob=function(e,t){if(n.isAllowed()&&n.getMarketingCloudVisitorID(function(){n.getAudienceManagerBlob(e,s)})){var r=n.b(h);if(r||(r=n.getAnalyticsVisitorID(function(){n.getAudienceManagerBlob(e,s)})),r)return r=n.s(),n.z&&n.p(g,-1),n.n(g,r,e,t)}return""},i.AUTH_STATE_UNAUTHENTICATED=0,i.AUTH_STATE_AUTHENTICATED=1,i.AUTH_STATE_ASSUMED_AUTHENTICATED=2,i.AUTH_STATE_LOGGEDOUT=3,n.setAuthState=function(e){n.isAllowed()&&(n.h(),n.d(p,e))},n.getAuthState=function(){return n.isAllowed()?(n.h(),n.b(p)):0},n.k="",n.q={},n.u="",n.v={},n.getSupplementalDataID=function(e,t){!n.k&&!t&&(n.k=n.m(1));var r=n.k;return n.u&&!n.v[e]?(r=n.u,n.v[e]=s):r&&(n.q[e]&&(n.u=n.k,n.v=n.q,n.k=r=t?"":n.m(1),n.q={}),r&&(n.q[e]=s)),r},0>e.indexOf("@")&&(e+="@AdobeOrg"),n.marketingCloudOrgID=e,n.namespace=t,n.cookieName="AMCV_"+e,n.cookieDomain=n.I(),n.cookieDomain==r.location.hostname&&(n.cookieDomain=""),t){var i="AMCV_"+t,_=n.cookieRead(n.cookieName),b=n.cookieRead(i);!_&&b&&(n.cookieWrite(n.cookieName,b,1),n.cookieWrite(i,"",-60))}n.loadSSL=0<=r.location.protocol.toLowerCase().indexOf("https"),n.loadTimeout=500,n.marketingCloudServer=n.audienceManagerServer="dpm.demdex.net"}/*
 ============== DO NOT ALTER ANYTHING BELOW THIS LINE ! ===============

 AppMeasurement for JavaScript version: 1.4
 Copyright 1996-2013 Adobe, Inc. All Rights Reserved
 More info available at http://www.omniture.com
 */
function AppMeasurement(){var e=this;e.version="1.4";var t=window;t.s_c_in||(t.s_c_il=[],t.s_c_in=0),e._il=t.s_c_il,e._in=t.s_c_in,e._il[e._in]=e,t.s_c_in++,e._c="s_c";var n=t.rb;n||(n=null);var r,i,o=t;try{for(r=o.parent,i=o.location;r&&r.location&&i&&""+r.location!=""+i&&o.location&&""+r.location!=""+o.location&&r.location.host==i.host;)o=r,r=o.parent}catch(a){}e.bb=function(e){try{console.log(e)}catch(t){}},e.qa=function(e){return""+parseInt(e)==""+e},e.replace=function(e,t,n){return!e||e.indexOf(t)<0?e:e.split(t).join(n)},e.escape=function(t){var n,r;if(!t)return t;for(t=encodeURIComponent(t),n=0;7>n;n++)r="+~!*()'".substring(n,n+1),t.indexOf(r)>=0&&(t=e.replace(t,r,"%"+r.charCodeAt(0).toString(16).toUpperCase()));return t},e.unescape=function(t){if(!t)return t;t=t.indexOf("+")>=0?e.replace(t,"+"," "):t;try{return decodeURIComponent(t)}catch(n){}return unescape(t)},e.Ta=function(){var n,r=t.location.hostname,i=e.fpCookieDomainPeriods;if(i||(i=e.cookieDomainPeriods),r&&!e.cookieDomain&&!/^[0-9.]+$/.test(r)&&(i=i?parseInt(i):2,i=i>2?i:2,n=r.lastIndexOf("."),n>=0)){for(;n>=0&&i>1;)n=r.lastIndexOf(".",n-1),i--;e.cookieDomain=n>0?r.substring(n):r}return e.cookieDomain},e.c_r=e.cookieRead=function(t){t=e.escape(t);var n=" "+e.d.cookie,r=n.indexOf(" "+t+"="),i=0>r?r:n.indexOf(";",r);return t=0>r?"":e.unescape(n.substring(r+2+t.length,0>i?n.length:i)),"[[B]]"!=t?t:""},e.c_w=e.cookieWrite=function(t,n,r){var i,o=e.Ta(),a=e.cookieLifetime;return n=""+n,a=a?(""+a).toUpperCase():"",r&&"SESSION"!=a&&"NONE"!=a&&((i=""!=n?parseInt(a?a:0):-60)?(r=new Date,r.setTime(r.getTime()+1e3*i)):1==r&&(r=new Date,i=r.getYear(),r.setYear(i+5+(1900>i?1900:0)))),t&&"NONE"!=a?(e.d.cookie=t+"="+e.escape(""!=n?n:"[[B]]")+"; path=/;"+(r&&"SESSION"!=a?" expires="+r.toGMTString()+";":"")+(o?" domain="+o+";":""),e.cookieRead(t)==n):0},e.D=[],e.C=function(t,n,r){if(e.ka)return 0;e.maxDelay||(e.maxDelay=250);var i=0,o=(new Date).getTime()+e.maxDelay,a=e.d.pb,s=["webkitvisibilitychange","visibilitychange"];if(a||(a=e.d.qb),a&&"prerender"==a){if(!e.W)for(e.W=1,r=0;r<s.length;r++)e.d.addEventListener(s[r],function(){var t=e.d.pb;t||(t=e.d.qb),"visible"==t&&(e.W=0,e.delayReady())});i=1,o=0}else r||e.r("_d")&&(i=1);return i&&(e.D.push({m:t,a:n,t:o}),e.W||setTimeout(e.delayReady,e.maxDelay)),i},e.delayReady=function(){var t,n=(new Date).getTime(),r=0;for(e.r("_d")&&(r=1);e.D.length>0;){if(t=e.D.shift(),r&&!t.t&&t.t>n){e.D.unshift(t),setTimeout(e.delayReady,parseInt(e.maxDelay/2));break}e.ka=1,e[t.m].apply(e,t.a),e.ka=0}},e.setAccount=e.sa=function(t){var n,r;if(!e.C("setAccount",arguments))if(e.account=t,e.allAccounts)for(n=e.allAccounts.concat(t.split(",")),e.allAccounts=[],n.sort(),r=0;r<n.length;r++)(0==r||n[r-1]!=n[r])&&e.allAccounts.push(n[r]);else e.allAccounts=t.split(",")},e.foreachVar=function(t,n){var r,i,o,a,s="";for(o=i="",e.lightProfileID?(r=e.H,(s=e.lightTrackVars)&&(s=","+s+","+e.Z.join(",")+",")):(r=e.c,(e.pe||e.linkType)&&(s=e.linkTrackVars,i=e.linkTrackEvents,e.pe&&(o=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[o])&&(s=e[o].ob,i=e[o].nb)),s&&(s=","+s+","+e.A.join(",")+","),i&&s&&(s+=",events,")),n&&(n=","+n+","),i=0;i<r.length;i++)o=r[i],(a=e[o])&&(!s||s.indexOf(","+o+",")>=0)&&(!n||n.indexOf(","+o+",")>=0)&&t(o,a)},e.J=function(t,n,r,i,o){var a,s,l,u,c="",d=0;if("contextData"==t&&(t="c"),n){for(a in n)if(!Object.prototype[a]&&(!o||a.substring(0,o.length)==o)&&n[a]&&(!r||r.indexOf(","+(i?i+".":"")+a+",")>=0)){if(l=!1,d)for(s=0;s<d.length;s++)a.substring(0,d[s].length)==d[s]&&(l=!0);if(!l&&(""==c&&(c+="&"+t+"."),s=n[a],o&&(a=a.substring(o.length)),a.length>0))if(l=a.indexOf("."),l>0)s=a.substring(0,l),l=(o?o:"")+s+".",d||(d=[]),d.push(l),c+=e.J(s,n,r,i,l);else if("boolean"==typeof s&&(s=s?"true":"false"),s){if("retrieveLightData"==i&&o.indexOf(".contextData.")<0)switch(l=a.substring(0,4),u=a.substring(4),a){case"transactionID":a="xact";break;case"channel":a="ch";break;case"campaign":a="v0";break;default:e.qa(u)&&("prop"==l?a="c"+u:"eVar"==l?a="v"+u:"list"==l?a="l"+u:"hier"==l&&(a="h"+u,s=s.substring(0,255)))}c+="&"+e.escape(a)+"="+e.escape(s)}}""!=c&&(c+="&."+t)}return c},e.Va=function(){var t,n,r,i,o,a,s,l,u="",c="",d="",p=n="";for(e.lightProfileID?(t=e.H,(c=e.lightTrackVars)&&(c=","+c+","+e.Z.join(",")+",")):(t=e.c,(e.pe||e.linkType)&&(c=e.linkTrackVars,d=e.linkTrackEvents,e.pe&&(n=e.pe.substring(0,1).toUpperCase()+e.pe.substring(1),e[n])&&(c=e[n].ob,d=e[n].nb)),c&&(c=","+c+","+e.A.join(",")+","),d&&(d=","+d+",",c&&(c+=",events,")),e.events2&&(p+=(""!=p?",":"")+e.events2)),e.AudienceManagement&&e.AudienceManagement.isReady()&&(u+=e.J("d",e.AudienceManagement.getEventCallConfigParams())),n=0;n<t.length;n++){if(i=t[n],o=e[i],r=i.substring(0,4),a=i.substring(4),!o&&"events"==i&&p&&(o=p,p=""),o&&(!c||c.indexOf(","+i+",")>=0)){switch(i){case"supplementalDataID":i="sdid";break;case"timestamp":i="ts";break;case"dynamicVariablePrefix":i="D";break;case"visitorID":i="vid";break;case"marketingCloudVisitorID":i="mid";break;case"analyticsVisitorID":i="aid";break;case"audienceManagerLocationHint":i="aamlh";break;case"audienceManagerBlob":i="aamb";break;case"authState":i="as";break;case"pageURL":i="g",o.length>255&&(e.pageURLRest=o.substring(255),o=o.substring(0,255));break;case"pageURLRest":i="-g";break;case"referrer":i="r";break;case"vmk":case"visitorMigrationKey":i="vmt";break;case"visitorMigrationServer":i="vmf",e.ssl&&e.visitorMigrationServerSecure&&(o="");break;case"visitorMigrationServerSecure":i="vmf",!e.ssl&&e.visitorMigrationServer&&(o="");break;case"charSet":i="ce";break;case"visitorNamespace":i="ns";break;case"cookieDomainPeriods":i="cdp";break;case"cookieLifetime":i="cl";break;case"variableProvider":i="vvp";break;case"currencyCode":i="cc";break;case"channel":i="ch";break;case"transactionID":i="xact";break;case"campaign":i="v0";break;case"latitude":i="lat";break;case"longitude":i="lon";break;case"resolution":i="s";break;case"colorDepth":i="c";break;case"javascriptVersion":i="j";break;case"javaEnabled":i="v";break;case"cookiesEnabled":i="k";break;case"browserWidth":i="bw";break;case"browserHeight":i="bh";break;case"connectionType":i="ct";break;case"homepage":i="hp";break;case"events":if(p&&(o+=(""!=o?",":"")+p),d)for(a=o.split(","),o="",r=0;r<a.length;r++)s=a[r],l=s.indexOf("="),l>=0&&(s=s.substring(0,l)),l=s.indexOf(":"),l>=0&&(s=s.substring(0,l)),d.indexOf(","+s+",")>=0&&(o+=(o?",":"")+a[r]);break;case"events2":o="";break;case"contextData":u+=e.J("c",e[i],c,i),o="";break;case"lightProfileID":i="mtp";break;case"lightStoreForSeconds":i="mtss",e.lightProfileID||(o="");break;case"lightIncrementBy":i="mti",e.lightProfileID||(o="");break;case"retrieveLightProfiles":i="mtsr";break;case"deleteLightProfiles":i="mtsd";break;case"retrieveLightData":e.retrieveLightProfiles&&(u+=e.J("mts",e[i],c,i)),o="";break;default:e.qa(a)&&("prop"==r?i="c"+a:"eVar"==r?i="v"+a:"list"==r?i="l"+a:"hier"==r&&(i="h"+a,o=o.substring(0,255)))}o&&(u+="&"+i+"="+("pev"!=i.substring(0,3)?e.escape(o):o))}"pev3"==i&&e.g&&(u+=e.g)}return u},e.v=function(e){var t=e.tagName;return""+e.wb!="undefined"||""+e.hb!="undefined"&&"HTML"!=(""+e.hb).toUpperCase()?"":(t=t&&t.toUpperCase?t.toUpperCase():"","SHAPE"==t&&(t=""),t&&(("INPUT"==t||"BUTTON"==t)&&e.type&&e.type.toUpperCase?t=e.type.toUpperCase():!t&&e.href&&(t="A")),t)},e.ma=function(e){var t,n,r,i=e.href?e.href:"";return t=i.indexOf(":"),n=i.indexOf("?"),r=i.indexOf("/"),i&&(0>t||n>=0&&t>n||r>=0&&t>r)&&(n=e.protocol&&e.protocol.length>1?e.protocol:l.protocol?l.protocol:"",t=l.pathname.lastIndexOf("/"),i=(n?n+"//":"")+(e.host?e.host:l.host?l.host:"")+("/"!=h.substring(0,1)?l.pathname.substring(0,0>t?0:t)+"/":"")+i),i},e.F=function(t){var n,r,i=e.v(t),o="",a=0;return i&&(n=t.protocol,r=t.onclick,!t.href||"A"!=i&&"AREA"!=i||r&&n&&!(n.toLowerCase().indexOf("javascript")<0)?r?(o=e.replace(e.replace(e.replace(e.replace(""+r,"\r",""),"\n",""),"	","")," ",""),a=2):"INPUT"==i||"SUBMIT"==i?(t.value?o=t.value:t.innerText?o=t.innerText:t.textContent&&(o=t.textContent),a=3):t.src&&"IMAGE"==i&&(o=t.src):o=e.ma(t),o)?{id:o.substring(0,100),type:a}:0},e.tb=function(t){for(var n=e.v(t),r=e.F(t);t&&!r&&"BODY"!=n;)(t=t.parentElement?t.parentElement:t.parentNode)&&(n=e.v(t),r=e.F(t));return r&&"BODY"!=n||(t=0),t&&(n=t.onclick?""+t.onclick:"",n.indexOf(".tl(")>=0||n.indexOf(".trackLink(")>=0)&&(t=0),t},e.fb=function(){var n,r,i,o,a=e.linkObject,s=e.linkType,l=e.linkURL;if(e.aa=1,a||(e.aa=0,a=e.j),a){for(n=e.v(a),r=e.F(a);a&&!r&&"BODY"!=n;)(a=a.parentElement?a.parentElement:a.parentNode)&&(n=e.v(a),r=e.F(a));if(r&&"BODY"!=n||(a=0),a){var u=a.onclick?""+a.onclick:"";(u.indexOf(".tl(")>=0||u.indexOf(".trackLink(")>=0)&&(a=0)}}else e.aa=1;if(!l&&a&&(l=e.ma(a)),l&&!e.linkLeaveQueryString&&(i=l.indexOf("?"),i>=0&&(l=l.substring(0,i))),!s&&l){var c,d=0,p=0;if(e.trackDownloadLinks&&e.linkDownloadFileTypes)for(u=l.toLowerCase(),i=u.indexOf("?"),o=u.indexOf("#"),i>=0?o>=0&&i>o&&(i=o):i=o,i>=0&&(u=u.substring(0,i)),i=e.linkDownloadFileTypes.toLowerCase().split(","),o=0;o<i.length;o++)(c=i[o])&&u.substring(u.length-(c.length+1))=="."+c&&(s="d");if(e.trackExternalLinks&&!s&&(u=l.toLowerCase(),e.pa(u))&&(e.linkInternalFilters||(e.linkInternalFilters=t.location.hostname),i=0,e.linkExternalFilters?(i=e.linkExternalFilters.toLowerCase().split(","),d=1):e.linkInternalFilters&&(i=e.linkInternalFilters.toLowerCase().split(",")),i)){for(o=0;o<i.length;o++)c=i[o],u.indexOf(c)>=0&&(p=1);p?d&&(s="e"):d||(s="e")}}e.linkObject=a,e.linkURL=l,e.linkType=s,(e.trackClickMap||e.trackInlineStats)&&(e.g="",a&&(s=e.pageName,l=1,a=a.sourceIndex,s||(s=e.pageURL,l=0),t.s_objectID&&(r.id=t.s_objectID,a=r.type=1),s&&r&&r.id&&n&&(e.g="&pid="+e.escape(s.substring(0,255))+(l?"&pidt="+l:"")+"&oid="+e.escape(r.id.substring(0,100))+(r.type?"&oidt="+r.type:"")+"&ot="+n+(a?"&oi="+a:""))))},e.Wa=function(){var t=e.aa,n=e.linkType,r=e.linkURL,i=e.linkName;if(n&&(r||i)&&(n=n.toLowerCase(),"d"!=n&&"e"!=n&&(n="o"),e.pe="lnk_"+n,e.pev1=r?e.escape(r):"",e.pev2=i?e.escape(i):"",t=1),e.abort&&(t=0),e.trackClickMap||e.trackInlineStats){n={},r=0;var o,a,s,l=e.cookieRead("s_sq"),u=l?l.split("&"):0;if(l=0,u)for(o=0;o<u.length;o++)a=u[o].split("="),i=e.unescape(a[0]).split(","),a=e.unescape(a[1]),n[a]=i;if(i=e.account.split(","),t||e.g){t&&!e.g&&(l=1);for(a in n)if(!Object.prototype[a])for(o=0;o<i.length;o++)for(l&&(s=n[a].join(","),s==e.account&&(e.g+=("&"!=a.charAt(0)?"&":"")+a,n[a]=[],r=1)),u=0;u<n[a].length;u++)s=n[a][u],s==i[o]&&(l&&(e.g+="&u="+e.escape(s)+("&"!=a.charAt(0)?"&":"")+a+"&u=0"),n[a].splice(u,1),r=1);if(t||(r=1),r){l="",o=2,!t&&e.g&&(l=e.escape(i.join(","))+"="+e.escape(e.g),o=1);for(a in n)!Object.prototype[a]&&o>0&&n[a].length>0&&(l+=(l?"&":"")+e.escape(n[a].join(","))+"="+e.escape(a),o--);e.cookieWrite("s_sq",l)}}}return t},e.Xa=function(){if(!e.mb){var t,n,r=new Date,i=o.location,a=n=t="",s="",l="",u="1.2",c=e.cookieWrite("s_cc","true",0)?"Y":"N",d="",p="";if(r.setUTCDate&&(u="1.3",0..toPrecision&&(u="1.5",r=[],r.forEach))){u="1.6",n=0,t={};try{n=new Iterator(t),n.next&&(u="1.7",r.reduce&&(u="1.8",u.trim&&(u="1.8.1",Date.parse&&(u="1.8.2",Object.create&&(u="1.8.5")))))}catch(f){}}t=screen.width+"x"+screen.height,a=navigator.javaEnabled()?"Y":"N",n=screen.pixelDepth?screen.pixelDepth:screen.colorDepth,s=e.w.innerWidth?e.w.innerWidth:e.d.documentElement.offsetWidth,l=e.w.innerHeight?e.w.innerHeight:e.d.documentElement.offsetHeight;try{e.b.addBehavior("#default#homePage"),d=e.b.ub(i)?"Y":"N"}catch(h){}try{e.b.addBehavior("#default#clientCaps"),p=e.b.connectionType}catch(y){}e.resolution=t,e.colorDepth=n,e.javascriptVersion=u,e.javaEnabled=a,e.cookiesEnabled=c,e.browserWidth=s,e.browserHeight=l,e.connectionType=p,e.homepage=d,e.mb=1}},e.I={},e.loadModule=function(n,r){var i=e.I[n];if(!i){i=t["AppMeasurement_Module_"+n]?new t["AppMeasurement_Module_"+n](e):{},e.I[n]=e[n]=i,i.Da=function(){return i.Ga},i.Ha=function(t){(i.Ga=t)&&(e[n+"_onLoad"]=t,e.C(n+"_onLoad",[e,i],1)||t(e,i))};try{Object.defineProperty?Object.defineProperty(i,"onLoad",{get:i.Da,set:i.Ha}):i._olc=1}catch(o){i._olc=1}}r&&(e[n+"_onLoad"]=r,e.C(n+"_onLoad",[e,i],1)||r(e,i))},e.r=function(t){var n,r;for(n in e.I)if(!Object.prototype[n]&&(r=e.I[n])&&(r._olc&&r.onLoad&&(r._olc=0,r.onLoad(e,r)),r[t]&&r[t]()))return 1;return 0},e.$a=function(){var t=Math.floor(1e13*Math.random()),n=e.visitorSampling,r=e.visitorSamplingGroup;r="s_vsn_"+(e.visitorNamespace?e.visitorNamespace:e.account)+(r?"_"+r:"");var i=e.cookieRead(r);if(n){if(i&&(i=parseInt(i)),!i){if(!e.cookieWrite(r,t))return 0;i=t}if(i%1e4>v)return 0}return 1},e.K=function(t,n){var r,i,o,a,s,l;for(r=0;2>r;r++)for(i=r>0?e.ha:e.c,o=0;o<i.length;o++)if(a=i[o],(s=t[a])||t["!"+a]){if(!n&&("contextData"==a||"retrieveLightData"==a)&&e[a])for(l in e[a])s[l]||(s[l]=e[a][l]);e[a]=s}},e.ya=function(t,n){var r,i,o,a;for(r=0;2>r;r++)for(i=r>0?e.ha:e.c,o=0;o<i.length;o++)a=i[o],t[a]=e[a],!n&&!t[a]&&(t["!"+a]=1)},e.Sa=function(e){var t,n,r,i,o,a,s=0,l="",u="";if(e&&e.length>255&&(t=""+e,n=t.indexOf("?"),n>0&&(a=t.substring(n+1),t=t.substring(0,n),i=t.toLowerCase(),r=0,"http://"==i.substring(0,7)?r+=7:"https://"==i.substring(0,8)&&(r+=8),n=i.indexOf("/",r),n>0&&(i=i.substring(r,n),o=t.substring(n),t=t.substring(0,n),i.indexOf("google")>=0?s=",q,ie,start,search_key,word,kw,cd,":i.indexOf("yahoo.co")>=0&&(s=",p,ei,"),s&&a)))){if((e=a.split("&"))&&e.length>1){for(r=0;r<e.length;r++)i=e[r],n=i.indexOf("="),n>0&&s.indexOf(","+i.substring(0,n)+",")>=0?l+=(l?"&":"")+i:u+=(u?"&":"")+i;l&&u?a=l+"&"+u:u=""}n=253-(a.length-u.length)-t.length,e=t+(n>0?o.substring(0,n):"")+"?"+a}return e},e.T=!1,e.O=!1,e.Fa=function(t){e.marketingCloudVisitorID=t,e.O=!0,e.l()},e.Q=!1,e.L=!1,e.Aa=function(t){e.analyticsVisitorID=t,e.L=!0,e.l()},e.S=!1,e.N=!1,e.Ca=function(t){e.audienceManagerLocationHint=t,e.N=!0,e.l()},e.R=!1,e.M=!1,e.Ba=function(t){e.audienceManagerBlob=t,e.M=!0,e.l()},e.isReadyToTrack=function(){var t=!0,n=e.visitor;return n&&n.isAllowed()&&(!e.T&&!e.marketingCloudVisitorID&&n.getMarketingCloudVisitorID&&(e.T=!0,e.marketingCloudVisitorID=n.getMarketingCloudVisitorID([e,e.Fa]),e.marketingCloudVisitorID)&&(e.O=!0),!e.Q&&!e.analyticsVisitorID&&n.getAnalyticsVisitorID&&(e.Q=!0,e.analyticsVisitorID=n.getAnalyticsVisitorID([e,e.Aa]),e.analyticsVisitorID)&&(e.L=!0),!e.S&&!e.audienceManagerLocationHint&&n.getAudienceManagerLocationHint&&(e.S=!0,e.audienceManagerLocationHint=n.getAudienceManagerLocationHint([e,e.Ca]),e.audienceManagerLocationHint)&&(e.N=!0),!e.R&&!e.audienceManagerBlob&&n.getAudienceManagerBlob&&(e.R=!0,e.audienceManagerBlob=n.getAudienceManagerBlob([e,e.Ba]),e.audienceManagerBlob)&&(e.M=!0),(e.T&&!e.O&&!e.marketingCloudVisitorID||e.Q&&!e.L&&!e.analyticsVisitorID||e.S&&!e.N&&!e.audienceManagerLocationHint||e.R&&!e.M&&!e.audienceManagerBlob)&&(t=!1)),t},e.k=n,e.o=0,e.callbackWhenReadyToTrack=function(t,r,i){var o;o={},o.Ma=t,o.La=r,o.Ia=i,e.k==n&&(e.k=[]),e.k.push(o),0==e.o&&(e.o=setInterval(e.l,100))},e.l=function(){var t;if(e.isReadyToTrack()&&(e.o&&(clearInterval(e.o),e.o=0),e.k!=n))for(;e.k.length>0;)t=e.k.shift(),t.La.apply(t.Ma,t.Ia)},e.Ea=function(t){var r,i,o=n,a=n;if(!e.isReadyToTrack()){if(r=[],t!=n)for(i in o={},t)o[i]=t[i];return a={},e.ya(a,!0),r.push(o),r.push(a),e.callbackWhenReadyToTrack(e,e.track,r),!0}return!1},e.Ua=function(){var t,n=e.cookieRead("s_fid"),r="",i="";t=8;var o=4;if(!n||n.indexOf("-")<0){for(n=0;16>n;n++)t=Math.floor(Math.random()*t),r+="0123456789ABCDEF".substring(t,t+1),t=Math.floor(Math.random()*o),i+="0123456789ABCDEF".substring(t,t+1),t=o=16;n=r+"-"+i}return e.cookieWrite("s_fid",n,1)||(n=0),n},e.t=e.track=function(n,r){var i,a=new Date,s="s"+Math.floor(a.getTime()/108e5)%10+Math.floor(1e13*Math.random()),l=a.getYear();l="t="+e.escape(a.getDate()+"/"+a.getMonth()+"/"+(1900>l?l+1900:l)+" "+a.getHours()+":"+a.getMinutes()+":"+a.getSeconds()+" "+a.getDay()+" "+a.getTimezoneOffset()),e.visitor&&(e.visitor.getAuthState&&(e.authState=e.visitor.getAuthState()),!e.supplementalDataID&&e.visitor.getSupplementalDataID&&(e.supplementalDataID=e.visitor.getSupplementalDataID("AppMeasurement:"+e._in,e.expectSupplementalData?!1:!0))),e.r("_s"),e.C("track",arguments)||(e.Ea(n)||(r&&e.K(r),n&&(i={},e.ya(i,0),e.K(n)),e.$a()&&(e.analyticsVisitorID||e.marketingCloudVisitorID||(e.fid=e.Ua()),e.fb(),e.usePlugins&&e.doPlugins&&e.doPlugins(e),e.account&&(e.abort||(e.trackOffline&&!e.timestamp&&(e.timestamp=Math.floor(a.getTime()/1e3)),a=t.location,e.pageURL||(e.pageURL=a.href?a.href:a),e.referrer||e.za||(e.referrer=o.document.referrer,e.za=1),e.referrer=e.Sa(e.referrer),e.r("_g")),e.Wa()&&!e.abort&&(e.Xa(),l+=e.Va(),e.eb(s,l),e.r("_t"),e.referrer=""))),n&&e.K(i,1)),e.abort=e.supplementalDataID=e.timestamp=e.pageURLRest=e.linkObject=e.j=e.linkURL=e.linkName=e.linkType=t.vb=e.pe=e.pev1=e.pev2=e.pev3=e.g=0)},e.tl=e.trackLink=function(t,n,r,i,o){return e.linkObject=t,e.linkType=n,e.linkName=r,o&&(e.i=t,e.q=o),e.track(i)},e.trackLight=function(t,n,r,i){return e.lightProfileID=t,e.lightStoreForSeconds=n,e.lightIncrementBy=r,e.track(i)},e.clearVars=function(){var t,n;for(t=0;t<e.c.length;t++)n=e.c[t],("prop"==n.substring(0,4)||"eVar"==n.substring(0,4)||"hier"==n.substring(0,4)||"list"==n.substring(0,4)||"channel"==n||"events"==n||"eventList"==n||"products"==n||"productList"==n||"purchaseID"==n||"transactionID"==n||"state"==n||"zip"==n||"campaign"==n)&&(e[n]=void 0)},e.eb=function(t,n){var r,i=e.trackingServer;r="";var o=e.dc,a="sc.",s=e.visitorNamespace;i?e.trackingServerSecure&&e.ssl&&(i=e.trackingServerSecure):(s||(s=e.account,i=s.indexOf(","),i>=0&&(s=s.substring(0,i)),s=s.replace(/[^A-Za-z0-9]/g,"")),r||(r="2o7.net"),o=o?(""+o).toLowerCase():"d1","2o7.net"==r&&("d1"==o?o="112":"d2"==o&&(o="122"),a=""),i=s+"."+o+"."+a+r),r=e.ssl?"https://":"http://",o=e.AudienceManagement&&e.AudienceManagement.isReady(),r+=i+"/b/ss/"+e.account+"/"+(e.mobile?"5.":"")+(o?"10":"1")+"/JS-"+e.version+(e.lb?"T":"")+"/"+t+"?AQB=1&ndh=1&pf=1&"+(o?"callback=s_c_il["+e._in+"].AudienceManagement.passData&":"")+n+"&AQE=1",e.Qa(r),e.X()},e.Qa=function(t){e.e||e.Ya(),e.e.push(t),e.Y=e.u(),e.xa()},e.Ya=function(){e.e=e.ab(),e.e||(e.e=[])},e.ab=function(){var n,r;if(e.da()){try{(r=t.localStorage.getItem(e.ba()))&&(n=t.JSON.parse(r))}catch(i){}return n}},e.da=function(){var n=!0;return e.trackOffline&&e.offlineFilename&&t.localStorage&&t.JSON||(n=!1),n},e.na=function(){var t=0;return e.e&&(t=e.e.length),e.z&&t++,t},e.X=function(){if(!e.z)if(e.oa=n,e.ca)e.Y>e.G&&e.va(e.e),e.fa(500);else{var t=e.Ka();t>0?e.fa(t):(t=e.la())&&(e.z=1,e.cb(t),e.ib(t))}},e.fa=function(t){e.oa||(t||(t=0),e.oa=setTimeout(e.X,t))},e.Ka=function(){var t;return!e.trackOffline||e.offlineThrottleDelay<=0?0:(t=e.u()-e.ua,e.offlineThrottleDelay<t?0:e.offlineThrottleDelay-t)},e.la=function(){return e.e.length>0?e.e.shift():void 0},e.cb=function(t){if(e.debugTracking){var n="AppMeasurement Debug: "+t;t=t.split("&");var r;for(r=0;r<t.length;r++)n+="\n	"+e.unescape(t[r]);e.bb(n)}},e.sb=function(){return!1},e.ga=!1;var s;try{s=JSON.parse('{"x":"y"}')}catch(u){s=null}s&&"y"==s.x?(e.ga=!0,e.P=function(e){return JSON.parse(e)}):t.$&&t.$.parseJSON?(e.P=function(e){return t.$.parseJSON(e)},e.ga=!0):e.P=function(){return null},e.ib=function(n){var r,i,o;if(!r&&e.Za&&(n=n.substring(0,2047)),!r&&e.d.createElement&&e.AudienceManagement&&e.AudienceManagement.isReady()&&(r=e.d.createElement("SCRIPT"))&&"async"in r&&((o=(o=e.d.getElementsByTagName("HEAD"))&&o[0]?o[0]:e.d.body)?(r.type="text/javascript",r.setAttribute("async","async"),i=3):r=0),r||(r=new Image,r.alt=""),r.ja=function(){try{e.ea&&(clearTimeout(e.ea),e.ea=0),r.timeout&&(clearTimeout(r.timeout),r.timeout=0)}catch(t){}},r.onload=r.kb=function(){if(r.ja(),e.Pa(),e.U(),e.z=0,e.X(),r.Ja){r.Ja=!1;try{var t=e.P(r.responseText);AudienceManagement.passData(t)}catch(n){}}},r.onabort=r.onerror=r.Ra=function(){r.ja(),(e.trackOffline||e.ca)&&e.z&&e.e.unshift(e.Oa),e.z=0,e.Y>e.G&&e.va(e.e),e.U(),e.fa(500)},r.onreadystatechange=function(){4==r.readyState&&(200==r.status?r.kb():r.Ra())},e.ua=e.u(),1==i||2==i){var a=n.indexOf("?");o=n.substring(0,a),a=n.substring(a+1),a=a.replace(/&callback=[a-zA-Z0-9_.\[\]]+/,""),1==i?(r.open("POST",o,!0),r.send(a)):2==i&&(r.open("POST",o),r.send(a))}else if(r.src=n,3==i){if(e.ra)try{o.removeChild(e.ra)}catch(s){}o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),e.ra=e.Na}r.abort&&(e.ea=setTimeout(r.abort,5e3)),e.Oa=n,e.Na=t["s_i_"+e.replace(e.account,",","_")]=r,(e.useForcedLinkTracking&&e.B||e.q)&&(e.forcedLinkTrackingTimeout||(e.forcedLinkTrackingTimeout=250),e.V=setTimeout(e.U,e.forcedLinkTrackingTimeout))},e.Pa=function(){if(e.da()&&!(e.ta>e.G))try{t.localStorage.removeItem(e.ba()),e.ta=e.u()}catch(n){}},e.va=function(n){if(e.da()){e.xa();try{t.localStorage.setItem(e.ba(),t.JSON.stringify(n)),e.G=e.u()}catch(r){}}},e.xa=function(){if(e.trackOffline)for((!e.offlineLimit||e.offlineLimit<=0)&&(e.offlineLimit=10);e.e.length>e.offlineLimit;)e.la()},e.forceOffline=function(){e.ca=!0},e.forceOnline=function(){e.ca=!1},e.ba=function(){return e.offlineFilename+"-"+e.visitorNamespace+e.account},e.u=function(){return(new Date).getTime()},e.pa=function(e){return e=e.toLowerCase(),0!=e.indexOf("#")&&0!=e.indexOf("about:")&&0!=e.indexOf("opera:")&&0!=e.indexOf("javascript:")?!0:!1},e.setTagContainer=function(t){var n,r,i;for(e.lb=t,n=0;n<e._il.length;n++)if((r=e._il[n])&&"s_l"==r._c&&r.tagContainerName==t){if(e.K(r),r.lmq)for(n=0;n<r.lmq.length;n++)i=r.lmq[n],e.loadModule(i.n);if(r.ml)for(i in r.ml)if(e[i])for(n in t=e[i],i=r.ml[i])!Object.prototype[n]&&("function"!=typeof i[n]||(""+i[n]).indexOf("s_c_il")<0)&&(t[n]=i[n]);if(r.mmq)for(n=0;n<r.mmq.length;n++)i=r.mmq[n],e[i.m]&&(t=e[i.m],t[i.f]&&"function"==typeof t[i.f]&&(i.a?t[i.f].apply(t,i.a):t[i.f].apply(t)));if(r.tq)for(n=0;n<r.tq.length;n++)e.track(r.tq[n]);r.s=e;break}},e.Util={urlEncode:e.escape,urlDecode:e.unescape,cookieRead:e.cookieRead,cookieWrite:e.cookieWrite,getQueryParam:function(n,r,i){var o;return r||(r=e.pageURL?e.pageURL:t.location),i||(i="&"),n&&r&&(r=""+r,o=r.indexOf("?"),o>=0&&(r=i+r.substring(o+1)+i,o=r.indexOf(i+n+"="),o>=0&&(r=r.substring(o+i.length+n.length+1),o=r.indexOf(i),o>=0&&(r=r.substring(0,o)),r.length>0)))?e.unescape(r):""}},e.A=["supplementalDataID","timestamp","dynamicVariablePrefix","visitorID","marketingCloudVisitorID","analyticsVisitorID","audienceManagerLocationHint","authState","fid","vmk","visitorMigrationKey","visitorMigrationServer","visitorMigrationServerSecure","charSet","visitorNamespace","cookieDomainPeriods","fpCookieDomainPeriods","cookieLifetime","pageName","pageURL","referrer","contextData","currencyCode","lightProfileID","lightStoreForSeconds","lightIncrementBy","retrieveLightProfiles","deleteLightProfiles","retrieveLightData","pe","pev1","pev2","pev3","pageURLRest"],e.c=e.A.concat(["purchaseID","variableProvider","channel","server","pageType","transactionID","campaign","state","zip","events","events2","products","audienceManagerBlob","tnt"]),e.Z=["timestamp","charSet","visitorNamespace","cookieDomainPeriods","cookieLifetime","contextData","lightProfileID","lightStoreForSeconds","lightIncrementBy"],e.H=e.Z.slice(0),e.ha=["account","allAccounts","debugTracking","visitor","trackOffline","offlineLimit","offlineThrottleDelay","offlineFilename","usePlugins","doPlugins","configURL","visitorSampling","visitorSamplingGroup","linkObject","linkURL","linkName","linkType","trackDownloadLinks","trackExternalLinks","trackClickMap","trackInlineStats","linkLeaveQueryString","linkTrackVars","linkTrackEvents","linkDownloadFileTypes","linkExternalFilters","linkInternalFilters","useForcedLinkTracking","forcedLinkTrackingTimeout","trackingServer","trackingServerSecure","ssl","abort","mobile","dc","lightTrackVars","maxDelay","expectSupplementalData","AudienceManagement"];for(r=0;250>=r;r++)76>r&&(e.c.push("prop"+r),e.H.push("prop"+r)),e.c.push("eVar"+r),e.H.push("eVar"+r),6>r&&e.c.push("hier"+r),4>r&&e.c.push("list"+r);r=["latitude","longitude","resolution","colorDepth","javascriptVersion","javaEnabled","cookiesEnabled","browserWidth","browserHeight","connectionType","homepage"],e.c=e.c.concat(r),e.A=e.A.concat(r),e.ssl=t.location.protocol.toLowerCase().indexOf("https")>=0,e.charSet="UTF-8",e.contextData={},e.offlineThrottleDelay=0,e.offlineFilename="AppMeasurement.offline",e.ua=0,e.Y=0,e.G=0,e.ta=0,e.linkDownloadFileTypes="exe,zip,wav,mp3,mov,mpg,avi,wmv,pdf,doc,docx,xls,xlsx,ppt,pptx",e.w=t,e.d=t.document;try{e.Za="Microsoft Internet Explorer"==navigator.appName}catch(c){}e.U=function(){e.V&&(t.clearTimeout(e.V),e.V=n),e.i&&e.B&&e.i.dispatchEvent(e.B),e.q&&("function"==typeof e.q?e.q():e.i&&e.i.href&&(e.d.location=e.i.href)),e.i=e.B=e.q=0},e.wa=function(){e.b=e.d.body,e.b?(e.p=function(n){var r,i,o,a,s;if(!(e.d&&e.d.getElementById("cppXYctnr")||n&&n.gb)){if(e.ia){if(!e.useForcedLinkTracking)return e.b.removeEventListener("click",e.p,!0),void(e.ia=e.useForcedLinkTracking=0);e.b.removeEventListener("click",e.p,!1)}else e.useForcedLinkTracking=0;e.j=n.srcElement?n.srcElement:n.target;try{if(e.j&&(e.j.tagName||e.j.parentElement||e.j.parentNode)&&(o=e.na(),e.track(),o<e.na()&&e.useForcedLinkTracking&&n.target)){for(a=n.target;a&&a!=e.b&&"A"!=a.tagName.toUpperCase()&&"AREA"!=a.tagName.toUpperCase();)a=a.parentNode;if(a&&(s=a.href,e.pa(s)||(s=0),i=a.target,n.target.dispatchEvent&&s&&(!i||"_self"==i||"_top"==i||"_parent"==i||t.name&&i==t.name))){try{r=e.d.createEvent("MouseEvents")}catch(l){r=new t.MouseEvent}if(r){try{r.initMouseEvent("click",n.bubbles,n.cancelable,n.view,n.detail,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,n.relatedTarget)}catch(u){r=0}r&&(r.gb=1,n.stopPropagation(),n.jb&&n.jb(),n.preventDefault(),e.i=n.target,e.B=r)}}}}catch(c){}e.j=0}},e.b&&e.b.attachEvent?e.b.attachEvent("onclick",e.p):e.b&&e.b.addEventListener&&(navigator&&(navigator.userAgent.indexOf("WebKit")>=0&&e.d.createEvent||navigator.userAgent.indexOf("Firefox/2")>=0&&t.MouseEvent)&&(e.ia=1,e.useForcedLinkTracking=1,e.b.addEventListener("click",e.p,!0)),e.b.addEventListener("click",e.p,!1))):setTimeout(e.wa,30)},e.wa()}function s_gi(e){var t,n,r,i,o,a=window.s_c_il,s=e.split(","),l=0;if(a)for(n=0;!l&&n<a.length;){if(t=a[n],"s_c"==t._c&&(t.account||t.oun))if(t.account&&t.account==e)l=1;else for(r=t.account?t.account:t.oun,r=t.allAccounts?t.allAccounts:r.split(","),i=0;i<s.length;i++)for(o=0;o<r.length;o++)s[i]==r[o]&&(l=1);n++}return l||(t=new AppMeasurement),t.setAccount?t.setAccount(e):t.sa&&t.sa(e),t}function s_pgicq(){var e,t,n,r=window,i=r.s_giq;if(i)for(e=0;e<i.length;e++)t=i[e],n=s_gi(t.oun),n.setAccount(t.un),n.setTagContainer(t.tagContainerName);r.s_giq=0}Visitor.getInstance=function(e,t){var n,r,i=window.s_c_il;if(0>e.indexOf("@")&&(e+="@AdobeOrg"),i)for(r=0;r<i.length;r++)if((n=i[r])&&"Visitor"==n._c&&(n.marketingCloudOrgID==e||t&&n.namespace==t))return n;return new Visitor(e,t)},AppMeasurement.getInstance=s_gi,window.s_objectID||(window.s_objectID=0),s_pgicq(),/*
 * ************************************************************************
 *
 *  ADOBE CONFIDENTIAL
 *  ___________________
 *
 *   (c) Copyright 2014 Adobe Systems Incorporated
 *   All Rights Reserved.
 *
 *  NOTICE:  All information contained herein is, and remains
 *  the property of Adobe Systems Incorporated and its suppliers,
 *  if any.  The intellectual and technical concepts contained
 *  herein are proprietary to Adobe Systems Incorporated and its
 *  suppliers and may be covered by U.S. and Foreign Patents,
 *  patents in process, and are protected by trade secret or copyright law.
 *  Dissemination of this information or reproduction of this material
 *  is strictly forbidden unless prior written permission is obtained
 *  from Adobe Systems Incorporated.
 * ************************************************************************
 */
/*
 * video heartbeats - v1.4.0 - 2014-09-10
 * Copyright (c) 2014 adobe Systems, Inc. All Rights Reserved.
 */
function(e){if("undefined"==typeof t)var t={};if("undefined"==typeof n)var n={};if("undefined"==typeof r)var r={};if(r.radio||(r.radio={}),r.plugin||(r.plugin={}),"undefined"==typeof i)var i={};if("undefined"==typeof o)var o={};o.event||(o.event={}),o.model||(o.model={}),o.context||(o.context={}),o.network||(o.network={}),o.clock||(o.clock={}),function(e){"use strict";function t(e,t){var n=(65535&e)+(65535&t),r=(e>>16)+(t>>16)+(n>>16);return r<<16|65535&n}function n(e,t){return e<<t|e>>>32-t}function r(e,r,i,o,a,s){return t(n(t(t(r,e),t(o,s)),a),i)}function i(e,t,n,i,o,a,s){return r(t&n|~t&i,e,t,o,a,s)}function o(e,t,n,i,o,a,s){return r(t&i|n&~i,e,t,o,a,s)}function a(e,t,n,i,o,a,s){return r(t^n^i,e,t,o,a,s)}function s(e,t,n,i,o,a,s){return r(n^(t|~i),e,t,o,a,s)}function l(e,n){e[n>>5]|=128<<n%32,e[(n+64>>>9<<4)+14]=n;var r,l,u,c,d,p=1732584193,f=-271733879,h=-1732584194,y=271733878;for(r=0;r<e.length;r+=16)l=p,u=f,c=h,d=y,p=i(p,f,h,y,e[r],7,-680876936),y=i(y,p,f,h,e[r+1],12,-389564586),h=i(h,y,p,f,e[r+2],17,606105819),f=i(f,h,y,p,e[r+3],22,-1044525330),p=i(p,f,h,y,e[r+4],7,-176418897),y=i(y,p,f,h,e[r+5],12,1200080426),h=i(h,y,p,f,e[r+6],17,-1473231341),f=i(f,h,y,p,e[r+7],22,-45705983),p=i(p,f,h,y,e[r+8],7,1770035416),y=i(y,p,f,h,e[r+9],12,-1958414417),h=i(h,y,p,f,e[r+10],17,-42063),f=i(f,h,y,p,e[r+11],22,-1990404162),p=i(p,f,h,y,e[r+12],7,1804603682),y=i(y,p,f,h,e[r+13],12,-40341101),h=i(h,y,p,f,e[r+14],17,-1502002290),f=i(f,h,y,p,e[r+15],22,1236535329),p=o(p,f,h,y,e[r+1],5,-165796510),y=o(y,p,f,h,e[r+6],9,-1069501632),h=o(h,y,p,f,e[r+11],14,643717713),f=o(f,h,y,p,e[r],20,-373897302),p=o(p,f,h,y,e[r+5],5,-701558691),y=o(y,p,f,h,e[r+10],9,38016083),h=o(h,y,p,f,e[r+15],14,-660478335),f=o(f,h,y,p,e[r+4],20,-405537848),p=o(p,f,h,y,e[r+9],5,568446438),y=o(y,p,f,h,e[r+14],9,-1019803690),h=o(h,y,p,f,e[r+3],14,-187363961),f=o(f,h,y,p,e[r+8],20,1163531501),p=o(p,f,h,y,e[r+13],5,-1444681467),y=o(y,p,f,h,e[r+2],9,-51403784),h=o(h,y,p,f,e[r+7],14,1735328473),f=o(f,h,y,p,e[r+12],20,-1926607734),p=a(p,f,h,y,e[r+5],4,-378558),y=a(y,p,f,h,e[r+8],11,-2022574463),h=a(h,y,p,f,e[r+11],16,1839030562),f=a(f,h,y,p,e[r+14],23,-35309556),p=a(p,f,h,y,e[r+1],4,-1530992060),y=a(y,p,f,h,e[r+4],11,1272893353),h=a(h,y,p,f,e[r+7],16,-155497632),f=a(f,h,y,p,e[r+10],23,-1094730640),p=a(p,f,h,y,e[r+13],4,681279174),y=a(y,p,f,h,e[r],11,-358537222),h=a(h,y,p,f,e[r+3],16,-722521979),f=a(f,h,y,p,e[r+6],23,76029189),p=a(p,f,h,y,e[r+9],4,-640364487),y=a(y,p,f,h,e[r+12],11,-421815835),h=a(h,y,p,f,e[r+15],16,530742520),f=a(f,h,y,p,e[r+2],23,-995338651),p=s(p,f,h,y,e[r],6,-198630844),y=s(y,p,f,h,e[r+7],10,1126891415),h=s(h,y,p,f,e[r+14],15,-1416354905),f=s(f,h,y,p,e[r+5],21,-57434055),p=s(p,f,h,y,e[r+12],6,1700485571),y=s(y,p,f,h,e[r+3],10,-1894986606),h=s(h,y,p,f,e[r+10],15,-1051523),f=s(f,h,y,p,e[r+1],21,-2054922799),p=s(p,f,h,y,e[r+8],6,1873313359),y=s(y,p,f,h,e[r+15],10,-30611744),h=s(h,y,p,f,e[r+6],15,-1560198380),f=s(f,h,y,p,e[r+13],21,1309151649),p=s(p,f,h,y,e[r+4],6,-145523070),y=s(y,p,f,h,e[r+11],10,-1120210379),h=s(h,y,p,f,e[r+2],15,718787259),f=s(f,h,y,p,e[r+9],21,-343485551),p=t(p,l),f=t(f,u),h=t(h,c),y=t(y,d);return[p,f,h,y]}function u(e){var t,n="";for(t=0;t<32*e.length;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function c(e){var t,n=[];for(n[(e.length>>2)-1]=void 0,t=0;t<n.length;t+=1)n[t]=0;for(t=0;t<8*e.length;t+=8)n[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return n}function d(e){return u(l(c(e),8*e.length))}function p(e,t){var n,r,i=c(e),o=[],a=[];for(o[15]=a[15]=void 0,i.length>16&&(i=l(i,8*e.length)),n=0;16>n;n+=1)o[n]=909522486^i[n],a[n]=1549556828^i[n];return r=l(o.concat(c(t)),512+8*t.length),u(l(a.concat(r),640))}function f(e){var t,n,r="0123456789abcdef",i="";for(n=0;n<e.length;n+=1)t=e.charCodeAt(n),i+=r.charAt(t>>>4&15)+r.charAt(15&t);return i}function h(e){return unescape(encodeURIComponent(e))}function y(e){return d(h(e))}function m(e){return f(y(e))}function g(e,t){return p(h(e),h(t))}function v(e,t){return f(g(e,t))}function _(e,t,n){return t?n?g(t,e):v(t,e):n?y(e):m(e)}"function"==typeof define&&define.amd?define(function(){return _}):e.md5=_}(t),function(e){"use strict";var t="js",n="1",r="4",i="0",o="0",a="0707bfa",s=2,l={};l.getVersion=function(){return t+"-"+n+"."+r+"."+i+"."+o+"-"+a},l.getMajor=function(){return n},l.getMinor=function(){return r},l.getMicro=function(){return i},l.getPatch=function(){return o},l.getBuild=function(){return a},l.getApiLevel=function(){return s},e.Version=l}(n),function(e){"use strict";function t(e,t){function n(){this.constructor=e}for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e}e.extend=t}(r),function(e){"use strict";function t(e,t){var n=[];for(var r in t)t.hasOwnProperty(r)&&"function"==typeof t[r]&&n.push(r);for(var i=0;i<n.length;i++){var o=n[i];e.prototype[o]=t[o]}}e.mixin=t}(r),function(e){"use strict";e.LOGGING_ENABLED=!1,e.logger={enableLogging:function(e){this._logEnabled=!0,this._logTag=e},disableLogging:function(){this._logEnabled=!1},log:function(t){e.LOGGING_ENABLED&&this._logEnabled&&window.console&&window.console.log&&window.console.log(this._logTag+t)},info:function(t){e.LOGGING_ENABLED&&this._logEnabled&&window.console&&window.console.info&&window.console.info(this._logTag+t)},warn:function(t){e.LOGGING_ENABLED&&this._logEnabled&&window.console&&window.console.warn&&window.console.warn(this._logTag+t)},error:function(e){if(window.console&&window.console.error)throw e=this._logTag+e,window.console.error(e),new Error(e)}}}(r),function(e,t){"use strict";function n(e,t){this._onFail={fn:e,ctx:t}}function r(e){if(e){if(null==e.id||""===e.id)return"Video ID cannot be null or empty string";if(e.streamType!=t.ASSET_TYPE_VOD&&e.streamType!=t.ASSET_TYPE_LIVE&&e.streamType!=t.ASSET_TYPE_LINEAR)return"Stream type must be one of "+t.ASSET_TYPE_VOD+", "+t.ASSET_TYPE_LIVE+", "+t.ASSET_TYPE_LINEAR;if(null==e.length||isNaN(e.length))return"Video length cannot be null or NaN";if(null==e.playhead||isNaN(e.playhead))return"Video playhead cannot be null or NaN";if(null==e.playerName||""===e.playerName)return"Video player-name cannot be null or empty string."}return null}function i(e){if(e){if(null==e.playerName||""===e.playerName)return"Ad-break player-name cannot be null or empty string";if(null==e.position||isNaN(e.position))return"Ad-break position cannot be null or NaN"}return null}function o(e){if(e){if(null==e.id||""===e.id)return"Ad ID cannot be null or empty string";if(null==e.position||isNaN(e.position))return"Ad position cannot be null or NaN";if(null==e.length||isNaN(e.length))return"Ad length cannot be null or NaN"}return null}function a(e){if(e){if(null==e.position||isNaN(e.position))return"Chapter position cannot be null or NaN";if(null==e.startTime||isNaN(e.startTime))return"Chapter offset (start-time) cannot be null or NaN";if(null==e.length||isNaN(e.length))return"Chapter length cannot be null or NaN"}return null}n.prototype.sanitizeVideoInfo=function(e){if(!e)return this._fail("VideoInfo cannot be null");var t=r(e);return t?this._fail(t):!0},n.prototype.sanitizeAdBreakInfo=function(e,t){if(!t&&!e)return this._fail("AdBreakInfo cannot be null");var n=i(e);return n?this._fail(n):!0},n.prototype.sanitizeAdInfo=function(e,t){if(!t&&!e)return this._fail("AdInfo cannot be null");var n=o(e);return n?this._fail(n):!0},n.prototype.sanitizeChapterInfo=function(e,t){if(!t&&!e)return this._fail("ChapterInfo cannot be null");var n=a(e);return n?this._fail(n):!0},n.prototype._fail=function(e){var n=new t.ErrorInfo("Invalid input data",e);return this._onFail.fn&&this._onFail.fn.call(this._onFail.ctx,n),!1},e.InputDataSanitizer=n}(r,n),function(e){"use strict";function t(e,t){this.type=e,this.data=t}t.SUCCESS="success",t.ERROR="error",e.radio.Event=t}(r),function(e){"use strict";function t(e,t,n){this.fn=e,this.ctx=t,this.params=n}t.prototype.run=function(){this.fn.apply(this.ctx,this.params)},e.radio.Command=t}(r),function(e){"use strict";function t(e,t){this._queue=[],this._drainInProgress=!1,this._isSuspended="undefined"!=typeof e?e:!1,this._delay="undefined"!=typeof t?t:0}t.prototype.addCommand=function(e){this._queue.push(e),this._drain()},t.prototype.cancelAllCommands=function(){this._queue=[]},t.prototype.isEmpty=function(){return 0===this._queue.length},t.prototype.suspend=function(){this._isSuspended=!0},t.prototype.resume=function(){this._isSuspended=!1,this._drain()},t.prototype.flush=function(){this._isSuspended=!1;for(var e=0;e<this._queue.length;e++)this._queue[e].run();this._queue=[]},t.prototype._drain=function(){if(!this._isSuspended&&!this._drainInProgress){this._drainInProgress=!0;var e=this;!function t(){var n=e._queue.shift();n?e._runCommand(n,function(){e._isSuspended||t()}):e._drainInProgress=!1}()}},t.prototype._runCommand=function(e,t){var n=this;window.setTimeout(function(){e.run(),null!=t&&t.call(n)},this._delay)},e.radio.CommandQueue=t}(r),function(e){"use strict";function t(e){this._name=e,this._listeners={},this._requests={},this._commands={},this.enableLogging("[radio::Channel] > ")}var n=e.mixin,r=e.logger;n(t,r),t.WILDCARD="*",t.SEPARATOR=":",t.prototype.toString=function(){return"<channel: "+this._name+">"},t.prototype.shutdown=function(){this.log("#shutdown > Shutting down"),this.off(),this._requests={},this._commands={}},t.prototype.on=function(e,t,n){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push({fn:t,ctx:n})},t.prototype.off=function(e,t,n){if(t="function"==typeof t?t:null,!e&&null===t&&!n)return void(this._listeners={});if(e)this._removeListener(e,t,n);else for(e in this._listeners)this._listeners.hasOwnProperty(e)&&this._removeListener(e,t,n)},t.prototype.trigger=function(e){for(var t in this._listeners)if(this._listeners.hasOwnProperty(t)&&this._matchWildcard(t,e.type))for(var n=this._listeners[t],r=n.slice(0),i=r.length,o=0;i>o;o++){var a=r[o];a.fn.call(a.ctx,e)}},t.prototype.comply=function(e,t,n){this._commands[e]={cmd:t,ctx:n}},t.prototype.command=function(e){var t=this._commands[e];if(!t)return void this.warn("#command > No command handler for: "+e);var n=Array.prototype.slice.call(arguments,1);t.cmd.apply(t.ctx,n)},t.prototype.reply=function(e,t,n){this._requests[e]={response:t,ctx:n}},t.prototype.request=function(e){var t=this._requests[e];return t?t.response.call(t.ctx):(this.warn("#request > No request handler for: "+e),null)},t.prototype._removeListener=function(e,t,n){t="function"==typeof t?t:null;var r=this._listeners[e];if(r){if(!r.length||null==t&&!n)return void delete this._listeners[e];for(var i=0;i<r.length;i++){var o=r[i];null!==t&&t!==o.fn||n&&n!==o.ctx||this._listeners[e].splice(i,1)}}},t.prototype._matchWildcard=function(e,n){if(e===n)return!0;for(var r=(e||"").split(t.SEPARATOR),i=(n||"").split(t.SEPARATOR),o=!0,a=0;a<r.length;a++)o=o&&(r[a]===t.WILDCARD||r[a]===i[a]);return o},e.radio.Channel=t}(r),function(e){"use strict";function t(){this._channels={}}var n=e.radio.Channel;t.prototype.channel=function(e){return this._channels[e]||(this._channels[e]=new n(e)),this._channels[e]},t.prototype.shutdown=function(){for(var e in this._channels)this._channels.hasOwnProperty(e)&&this._channels[e].shutdown()},e.radio.Radio=t}(r),function(e){"use strict";function t(){this._events={}}t.prototype.addEventListener=function(e,t,n){e&&t&&(n=n||window,this._events[e]=this._events[e]||[],this._events[e].push({cb:t,ctx:n}))},t.prototype.removeEventListener=function(e,t,n){if(e&&t){n=n||window;var r,i,o=!1;for(i in this._events)if(e===i){o=!0;break}if(o){for(r=this._events[i].length-1;r>=0;r--){var a=this._events[i][r];t===a.cb&&n===a.ctx&&this._events[i].splice(r,1)}this._events[i].length||delete this._events[i]}}},t.prototype.dispatchEvent=function(e){if(e.type){var t,n;for(t in this._events)if(this._events.hasOwnProperty(t)&&e.type===t){var r=this._events[t],i=r.slice(0),o=i.length;for(n=0;o>n;n++)i[n].cb.call(i[n].ctx,e);break}}},t.prototype.removeAllListeners=function(e){if(e){var t,n;for(n in this._events)if(this._events.hasOwnProperty(n)){for(t=this._events[n].length-1;t>=0;t--){var r=this._events[n][t];r.ctx===e&&this._events[n].splice(t,1)}this._events[n].length||delete this._events[n]}}else this._events={}},e.EventDispatcher=t}(r),function(e){"use strict";function t(){}function n(e,t){this.url=e||null,this.method=t,this._xmlhttp=null}function r(){r.__super__.constructor.call(this),this._connection=null}var i=e.radio.Event,o=e.EventDispatcher;t.GET="GET",r.RESPONSE="response",r.INSTANCE="instance",e.extend(r,o),r.prototype._createCORSRequest=function(e){var t=null;if("undefined"!=typeof window.XMLHttpRequest){var n=new window.XMLHttpRequest;"withCredentials"in n&&(t=n,t.open(e.method,e.url,!0))}if(null==t&&"undefined"!=typeof window.XDomainRequest&&(t=new window.XDomainRequest,t.open(e.method,e.url)),t){var o={};o[r.INSTANCE]=this;var a=this;t.onload=function(){return t.status&&parseInt(t.status,10)>=400?this.onerror():(o[r.RESPONSE]=t.responseText,void a.dispatchEvent(new i(i.SUCCESS,o)))},t.onerror=function(){a.dispatchEvent(new i(i.ERROR,o))}}return t},r.prototype._loadImage=function(e){this._connection||(this._connection=new Image,this._connection.alt=""),this._connection.src=e.url;var t={};t[r.RESPONSE]="",t[r.INSTANCE]=this,this.dispatchEvent(new i(i.SUCCESS,t))},r.prototype.close=function(){this.removeAllListeners()},r.prototype.load=function(e){e&&e.method&&e.url&&(e._xmlhttp=this._createCORSRequest(e),e._xmlhttp?e._xmlhttp.send():this._loadImage(e))},e.URLRequestMethod=t,e.URLRequest=n,e.URLLoader=r}(r),function(e){"use strict";function t(){this.playerName=null,this.name=null,this.position=null,this.startTime=null}e.AdBreakInfo=t}(n),function(e){"use strict";function t(){this.id=null,this.name=null,this.length=null,this.position=null,this.cpm=null}e.AdInfo=t}(n),function(e){"use strict";e.ASSET_TYPE_VOD="vod",e.ASSET_TYPE_LIVE="live",e.ASSET_TYPE_LINEAR="linear"}(n),function(e){"use strict";function t(){this.name=null,this.length=null,this.position=null,this.startTime=null}e.ChapterInfo=t}(n),function(e){"use strict";function t(e,t,i){this.trackingServer=e,this.jobId=t,this.publisher=i,this.channel=r,this.ovp=n,this.sdk=n,this.debugLogging=!1,this.quietMode=!1,this.__primetime=!1,this.__psdkVersion=null}var n="unknown",r="";e.ConfigData=t}(n),function(e){"use strict";function t(e,t){this.message=e,this.details=t}e.ErrorInfo=t}(n),function(e){"use strict";function t(){}t.prototype.getVideoInfo=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getAdBreakInfo=function(){return null},t.prototype.getAdInfo=function(){return null},t.prototype.getChapterInfo=function(){return null},t.prototype.getQoSInfo=function(){return null},t.prototype.onError=function(){},t.prototype.onVideoUnloaded=function(){},e.PlayerDelegate=t}(n),function(e){"use strict";function t(){this.bitrate=null,this.fps=null,this.droppedFrames=null}e.QoSInfo=t}(n),function(e){"use strict";function t(){this.playerName=null,this.id=null,this.name=null,this.length=null,this.playhead=null,this.streamType=null}e.VideoInfo=t}(n),function(e){"use strict";function t(){}t.prototype.bootstrap=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.setup=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.destroy=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.enable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.disable=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getName=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.isInitialized=function(){throw new Error("Implementation error: Method must be overridden.")},t.prototype.getProperty=function(){throw new Error("Implementation error: Method must be overridden.")},e.plugin.IPlugin=t}(r),function(e,t){"use strict";function n(){this._plugins={},this._radio=new s,this._channel=this._radio.channel(n.CHANNEL_GLOBAL),this.enableLogging("[plugin::PluginManager] > ")}var r=e.mixin,i=e.logger,o=t.ErrorInfo,a=e.radio.Event,s=e.radio.Radio,l=e.radio.Channel;r(n,i),n.ALL_PLUGINS=l.WILDCARD,n.ERROR="error",n.CHANNEL_GLOBAL="plugin_manager:global",n.prototype.addPlugin=function(e){var t=e.getName();this._plugins[t]&&this.warn("#addPlugin > Replacing plugin: "+t),this._plugins[t]=e,e.bootstrap(this)},n.prototype.setupPlugins=function(){for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].setup()},n.prototype.removePlugin=function(e){var t=e.getName();this._plugins[t]||this.warn("#removePlugin > Unregistered plugin: "+t),delete this._plugins[t]},n.prototype.pluginExists=function(e){return!!this._plugins[e]},n.prototype.isPluginInitialized=function(e){return this._plugins[e]&&this._plugins[e].isInitialized()},n.prototype.on=function(e,t,n,r){this._channel.on(e+l.SEPARATOR+t,n,r)},n.prototype.off=function(e,t,n,r){this._channel.off(e+l.SEPARATOR+t,n,r)},n.prototype.trigger=function(e,t){var r=t.type.split(l.SEPARATOR),i=r[0],s=e.getName();if(s!=i){var u="Invalid event namespace. (event: "+t.type+", plugin: "+s+")";return void this._channel.trigger(new a(n.ERROR,new o("Internal error",u)))}this._channel.trigger(t)},n.prototype.request=function(e,t){var n=this._plugins[e];return n?n.getProperty(t):null},n.prototype.destroy=function(){this._radio.shutdown();for(var e in this._plugins)this._plugins.hasOwnProperty(e)&&this._plugins[e].destroy()},e.plugin.PluginManager=n}(r,n),function(e,t){"use strict";function n(e){this._name=e,this._isInitialized=!1,this._isDestroyed=!1,this._isEnabled=!0,this._dataResolver={},this.enableLogging("[plugin::"+this.getName()+"] > ")}var r=t.ErrorInfo,i=e.radio.Event,o=e.plugin.PluginManager;e.mixin(n,e.logger),n.INITIALIZED="initialized",n.STATE_PLUGIN="state",n.ERROR_INFO="error_info",n.prototype.bootstrap=function(e){this._pluginManager=e,this._isDestroyed&&this._trigger(o.ERROR,new r("Invalid state.","Plugin already destroyed."))},n.prototype.setup=function(){this._trigger(n.INITIALIZED),this._isInitialized=!0},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._teardown())},n.prototype.enable=function(){this._isEnabled=!0,this._enabled()},n.prototype.disable=function(){this._isEnabled=!1,this._disabled()},n.prototype.getName=function(){return this._name},n.prototype.isInitialized=function(){return this._isInitialized},n.prototype.getProperty=function(e){if("function"==typeof this._dataResolver)return this._dataResolver.call(this,e);if(this._dataResolver.hasOwnProperty(e)){var t=this._dataResolver[e];return"function"==typeof t?t.call(this):t}},n.prototype.toString=function(){return"<plugin: "+this._name+">"},n.prototype._enabled=function(){},n.prototype._disabled=function(){},n.prototype._teardown=function(){},n.prototype._canProcess=function(){var e=this._pluginManager.request(n.STATE_PLUGIN,n.ERROR_INFO);return e?(this.warn("#_canProcess() > Unable to track: in ERROR state."),!1):this._isEnabled?this._isDestroyed?(this.warn("Plugin destroyed."),!1):!0:(this.warn("Plugin disabled."),!1)},n.prototype._trigger=function(e,t){this._pluginManager.trigger(this,new i(this.getName()+":"+e,t))},n.prototype._onInvalidInputData=function(e){this._trigger(o.ERROR,e)},e.plugin.BasePlugin=n}(r,n),function(e,t){"use strict";function n(){}n.REPORT="report",n.RESET="reset",n.TRACKING_SERVER="tracking_server",n.CHECK_STATUS_SERVER="check_status_server",n.JOB_ID="job_id",n.QUIET_MODE="quiet_mode",n.VIDEO_INFO="video_info",n.AD_INFO="ad_info",n.AD_BREAK_INFO="ad_break_info",n.CHAPTER_INFO="chapter_info",n.TIMER_INTERVAL="timer_interval",n.TRACKING_INTERVAL="tracking_interval",n.CHECK_STATUS_INTERVAL="check_status_interval",n.TRACK_EXTERNAL_ERRORS="track_external_errors",n.SOURCE="source",n.ERROR_ID="error_id",t.event.EventKeyName=n}(r,o),function(e,t){"use strict";function n(e,t){n.__super__.constructor.call(this,e,t)}var r=e.radio.Event;e.extend(n,r),n.API_CONFIG="api_config",n.API_VIDEO_LOAD="api_video_load",n.API_VIDEO_UNLOAD="api_video_unload",n.API_VIDEO_START="api_video_start",n.API_VIDEO_COMPLETE="api_video_complete",n.API_AD_START="api_ad_start",n.API_AD_COMPLETE="api_ad_complete",n.API_PLAY="api_play",n.API_PAUSE="api_pause",n.API_BUFFER_START="api_buffer_start",n.API_SEEK_START="api_seek_start",n.API_SEEK_COMPLETE="api_seek_complete",n.API_CHAPTER_START="api_chapter_start",n.API_CHAPTER_COMPLETE="api_chapter_complete",n.API_TRACK_ERROR="api_track_error",n.API_TRACK_INTERNAL_ERROR="api_track_internal_error",n.API_BITRATE_CHANGE="api_bitrate_change",t.event.ApiEvent=n}(r,o),function(e,t){"use strict";function n(e,t){n.__super__.constructor.call(this,e,t)}var r=e.radio.Event;e.extend(n,r),n.CONTEXT_DATA_AVAILABLE="context_data_available",t.event.ContextEvent=n}(r,o),function(e,t){"use strict";function n(e,t){n.__super__.constructor.call(this,e,t)}var r=e.radio.Event;e.extend(n,r),n.NETWORK_CHECK_STATUS_COMPLETE="network_check_status_complete",t.event.NetworkEvent=n}(r,o),function(e,t){"use strict";function n(e,t){n.__super__.constructor.call(this,e,t)}var r=e.radio.Event;e.extend(n,r),n.CLOCK_TRACKING_TICK="CLOCK_TRACKING_TICK",n.CLOCK_CHECK_STATUS_GET_SETTINGS="CLOCK_CHECK_STATUS_GET_SETTINGS",n.CLOCK_TRACKING_ENABLE="CLOCK_TRACKING_ENABLE",n.CLOCK_TRACKING_DISABLE="CLOCK_TRACKING_DISABLE",n.CLOCK_CHECK_STATUS_TICK="CLOCK_CHECK_STATUS_TICK",n.CLOCK_CHECK_STATUS_ENABLE="CLOCK_CHECK_STATUS_ENABLE",n.CLOCK_CHECK_STATUS_DISABLE="CLOCK_CHECK_STATUS_DISABLE",t.event.ClockEvent=n}(r,o),function(e,t){"use strict";function n(e,t){this.value=e,this.hint=t}function r(e){this.realm=e,this.data={}}n.HINT_SHORT="short",r.prototype._createAccessor=function(e,t,n){var r=this;return function(){return arguments.length&&(r[e]=arguments[0],r.setField(t,arguments[0],n)),r[e]}},r.prototype.setField=function(e,t,r){this.data[e]=new n(t,r)},t.model.Dao=r,t.model.DaoField=n}(r,o),function(e,t){"use strict";function n(e,t){n.__super__.constructor.call(this,e),this.year=this._createAccessor("_year","year",i.HINT_SHORT),this.month=this._createAccessor("_month","month",i.HINT_SHORT),this.day=this._createAccessor("_day","day",i.HINT_SHORT),this.hour=this._createAccessor("_hour","hour",i.HINT_SHORT),this.minute=this._createAccessor("_minute","minute",i.HINT_SHORT),this.second=this._createAccessor("_second","second",i.HINT_SHORT),this.year(t.getUTCFullYear()),this.month(t.getUTCMonth()+1),this.day(t.getUTCDate()),this.hour(t.getUTCHours()),this.minute(t.getUTCMinutes()),this.second(t.getUTCSeconds())}var r=t.model.Dao,i=t.model.DaoField;e.extend(n,r),t.model.DateDao=n}(r,o),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.adId=this._createAccessor("_adId","ad_id",null),this.sid=this._createAccessor("_sid","ad_sid",null),this.resolver=this._createAccessor("_resolver","resolver",null),this.podId=this._createAccessor("_podId","pod_id",null),this.podPosition=this._createAccessor("_podPosition","pod_position",null),this.podSecond=this._createAccessor("_podSecond","pod_second",null),this.length=this._createAccessor("_length","length",null),this.adId(""),this.sid(""),this.resolver(""),this.podId(""),this.podPosition(""),this.podSecond(0),this.length(0),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.adId(e.adId()),this.sid(e.sid()),this.resolver(e.resolver()),this.podId(e.podId()),this.podPosition(e.podPosition()),this.podSecond(e.podSecond()),this.length(e.length())}}var r=t.model.Dao;e.extend(n,r),t.model.AdDao=n}(r,o),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.id=this._createAccessor("_id","chapter_id",null),this.sid=this._createAccessor("_sid","chapter_sid",null),this.name=this._createAccessor("_name","chapter_name",null),this.position=this._createAccessor("_position","chapter_pos",null),this.length=this._createAccessor("_length","chapter_length",null),this.offset=this._createAccessor("_offset","chapter_offset",null),this.id(""),this.sid(""),this.name(""),this.position(0),this.length(0),this.offset(0),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.id(e.id()),this.sid(e.sid()),this.name(e.name()),this.position(e.position()),this.length(e.length()),this.offset(e.offset())}}var r=t.model.Dao;e.extend(n,r),t.model.ChapterDao=n}(r,o),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"asset"),this.type=this._createAccessor("_type","type",null),this.videoId=this._createAccessor("_videoId","video_id",null),this.publisher=this._createAccessor("_publisher","publisher",null),this.adData=this._createAccessor("_adData","ad_data",null),this.chapterData=this._createAccessor("_chapterData","chapter_data",null),this.duration=this._createAccessor("_duration","duration",null),this.type(""),this.videoId(""),this.publisher(""),this.adData(null),this.chapterData(null),this.duration(0),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.type(e.type()),this.videoId(e.videoId()),this.publisher(e.publisher()),this.duration(e.duration());var t=e.adData();t&&this.adData(new i(t));var r=e.chapterData();r&&this.chapterData(new o(r))}}var r=t.model.Dao,i=t.model.AdDao,o=t.model.ChapterDao;e.extend(n,r),n.TYPE_VOD="vod",n.TYPE_LIVE="live",n.TYPE_LINEAR="linear",n.TYPE_AD="ad",t.model.AssetDao=n}(r,o),function(e,t){"use strict";function n(e){n.__super__.constructor.call(this,"event"),this._trackingInterval=e,this.type=this._createAccessor("_type","type",null),this.count=this._createAccessor("_count","count",null),this.totalCount=this._createAccessor("_totalCount","total_count",null),this.duration=this._createAccessor("_duration","duration",null),this.totalDuration=this._createAccessor("_totalDuration","total_duration",null),this.playhead=this._createAccessor("_playhead","playhead",null),this.id=this._createAccessor("_id","id",null),this.source=this._createAccessor("_source","source",null),this.prevTs=this._createAccessor("_prevTs","prev_ts",null),this.type(""),this.count(0),this.totalCount(0),this.duration(0),this.totalDuration(0),this.playhead(0),this.id(""),this.source(""),this.ts((new Date).getTime()),this._updateTsAsDate(),this.prevTs(-1)}var r=t.model.Dao,i=t.model.DateDao;e.extend(n,r),n.prototype._updateTsAsDate=function(){var e=1e3*this._trackingInterval,t=Math.floor(this._ts/e)*e;this.tsAsDate(new Date(t))},n.prototype.ts=function(){return arguments.length&&(this._ts=arguments[0],this.setField("ts",this._ts,null),this._updateTsAsDate()),this._ts},n.prototype.tsAsDate=function(){if(arguments.length){this._tsAsDate=arguments[0];var e=new i(this.realm,this._tsAsDate);this.setField("ts_as_date",e,null)}return this._tsAsDate},n.EVENT_TYPE_LOAD="load",n.EVENT_TYPE_UNLOAD="unload",n.EVENT_TYPE_START="start",n.EVENT_TYPE_CHAPTER_START="chapter_start",n.EVENT_TYPE_CHAPTER_COMPLETE="chapter_complete",n.EVENT_TYPE_PLAY="play",n.EVENT_TYPE_PAUSE="pause",n.EVENT_TYPE_BUFFER="buffer",n.EVENT_TYPE_BITRATE_CHANGE="bitrate_change",n.EVENT_TYPE_ERROR="error",n.EVENT_TYPE_ACTIVE="active",n.EVENT_TYPE_COMPLETE="complete",t.model.EventDao=n}(r,o),function(e,t){"use strict";function n(){n.__super__.constructor.call(this,"stream"),this.bitrate=this._createAccessor("_bitrate","bitrate",null),this.fps=this._createAccessor("_fps","fps",null),this.droppedFrames=this._createAccessor("_droppedFrames","dropped_frames",null),this.bitrate(0),this.fps(0),this.droppedFrames(0)}var r=t.model.Dao;e.extend(n,r),t.model.QoSDao=n}(r,o),function(e,t){"use strict";function n(){n.__super__.constructor.call(this,"sc"),this.reportSuiteId=this._createAccessor("_reportSuiteId","rsid",null),this.trackingServer=this._createAccessor("_trackingServer","tracking_server",null),this.ssl=this._createAccessor("_ssl","ssl",i.HINT_SHORT),this.reportSuiteId(""),this.trackingServer(""),this.ssl(0)}var r=t.model.Dao,i=t.model.DaoField;e.extend(n,r),t.model.AdobeAnalyticsDao=n}(r,o),function(e,t){"use strict";function n(){n.__super__.constructor.call(this,"sp"),this.ovp=this._createAccessor("_ovp","ovp",null),this.sdk=this._createAccessor("_sdk","sdk",null),this.channel=this._createAccessor("_channel","channel",null),this.playerName=this._createAccessor("_playerName","player_name",null),this.libVersion=this._createAccessor("_libVersion","hb_version",null),this.apiLevel=this._createAccessor("_apiLevel","hb_api_lvl",null),this.ovp(i),this.sdk(i),this.channel(i),this.playerName(""),this.libVersion(""),this.apiLevel(0)}var r=t.model.Dao,i="unknown";e.extend(n,r),t.model.ServiceProviderDao=n}(r,o),function(e,t){"use strict";function n(){n.__super__.constructor.call(this,"event"),this.sessionId=this._createAccessor("_sessionId","sid",null),this.sessionId(null)}var r=t.model.Dao;e.extend(n,r),t.model.SessionDao=n}(r,o),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"stream"),this.cdn=this._createAccessor("_cdn","cdn",null),this.name=this._createAccessor("_name","name",null),this.cdn(null),this.name(null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.cdn(e.cdn()),this.name(e.name())}}var r=t.model.Dao;e.extend(n,r),t.model.StreamDao=n}(r,o),function(e,t){"use strict";function n(){if(n.__super__.constructor.call(this,"user"),this.analyticsVisitorId=this._createAccessor("_analyticsVisitorId","aid",null),this.marketingCloudVisitorId=this._createAccessor("_marketingCloudVisitorId","mid",null),this.visitorId=this._createAccessor("_visitorId","id",null),this.analyticsVisitorId(null),this.marketingCloudVisitorId(null),this.visitorId(null),arguments.length&&arguments[0]instanceof n){var e=arguments[0];this.analyticsVisitorId(e.analyticsVisitorId()),this.marketingCloudVisitorId(e.marketingCloudVisitorId()),this.visitorId(e.visitorId())}}var r=t.model.Dao;e.extend(n,r),t.model.UserDao=n}(r,o),function(e,t){"use strict";function n(e,t,n,r){this.eventData=e,this.assetData=t,this.streamData=n,this.qosData=r}t.model.ReportEntry=n}(r,o),function(e,t){"use strict";function n(e,t,n,r){this.adobeAnalyticsData=e,this.userData=t,this.serviceProviderData=n,this.sessionData=r,this.reportEntries=[]}var r=t.model.EventDao;n.prototype.addEntry=function(e){this.reportEntries.push(e)},n.prototype.discardPauseEvents=function(){if(this.reportEntries.length)for(var e=this.reportEntries.length-1;e>=0;e--)this.reportEntries[e].eventData.type()===r.EVENT_TYPE_PAUSE&&this.reportEntries.splice(e,1)},t.model.Report=n}(r,o),function(e,t){"use strict";function n(){}n.prototype.serializeReport=function(){},n.prototype.serializeReportEntry=function(){},n.prototype.serializeDao=function(){},n.prototype.serializeNumber=function(){},n.prototype.serializeString=function(){},t.model.SerializerProtocol=n}(r,o),function(e,t){"use strict";function n(){this.enableLogging("[heartbeat::QuerystringSerializer] > ")}var r=e.mixin,i=e.logger,o=t.model.Dao,a=t.model.DaoField,s=t.model.SerializerProtocol,l="l",u="h",c="s";e.extend(n,s),r(n,i),n.prototype._appendSerializedData=function(e){return e?e+"&":""},n.prototype._removeLastCharacter=function(e){return e&&e.length>0&&(e=e.substring(0,e.length-1)),e},n.prototype._processDao=function(e){var t=[];for(var n in e.data)if(e.data.hasOwnProperty(n)){var r=e.data[n],i=r.value,a=r.hint,s=null,l=e.realm;if(null===i||"undefined"==typeof i)continue;"number"==typeof i?s=this.serializeNumber(n,i,l,a):"string"==typeof i?s=this.serializeString(n,i,l,a):i instanceof o?s=this.serializeDao(i):this.warn("#_processDao() > Unable to serialize DAO. Field: "+n+". Value: "+i+"."),s&&t.push(s)}return t},n.prototype.serializeReport=function(e){for(var t=[],n=e.reportEntries,r=0;r<n.length;r++){var i=this.serializeReportEntry(n[r])+"&";i+=this._appendSerializedData(this.serializeDao(e.adobeAnalyticsData)),i+=this._appendSerializedData(this.serializeDao(e.userData)),i+=this._appendSerializedData(this.serializeDao(e.serviceProviderData)),i+=this._appendSerializedData(this.serializeDao(e.sessionData)),i=this._removeLastCharacter(i),t.push(i)}return t},n.prototype.serializeReportEntry=function(e){var t=this._appendSerializedData(this.serializeDao(e.eventData));return t+=this._appendSerializedData(this.serializeDao(e.assetData)),t+=this._appendSerializedData(this.serializeDao(e.streamData)),t+=this._appendSerializedData(this.serializeDao(e.qosData)),t=this._removeLastCharacter(t)},n.prototype.serializeDao=function(e){for(var t=this._processDao(e),n="",r=0;r<t.length;r++)n+=r==t.length-1?t[r]:t[r]+"&";return n},n.prototype.serializeNumber=function(e,t,n,r){var i=l;return null==t||void 0===t||isNaN(t)?null:(r&&"string"==typeof r&&r===a.HINT_SHORT&&(i=u),i+":"+n+":"+e+"="+Math.floor(t))},n.prototype.serializeString=function(e,t,n){return t?c+":"+n+":"+e+"="+window.encodeURIComponent(t):null
},t.model.QuerystringSerializer=n}(r,o),function(e,t){"use strict";function n(e){this.tick=0,this.interval=e,this.isActive=!1}function r(e){this._isDestroyed=!1,this._currentTick=0,this._timers={},this._channel=e;var t=this;this._clock=window.setInterval(function(){t._onTick()},1e3*l),this.enableLogging("[heartbeat::TimerManager] > ")}var i=e.logger,o=e.mixin,a=(e.radio.Command,t.event.ClockEvent),s=t.event.EventKeyName,l=1;o(r,i),r.prototype.isTimerActive=function(e){var t=this._timers[e];return t&&t.isActive},r.prototype.createTimer=function(e,t){this._timers[e]=new n(t)},r.prototype.destroyTimer=function(e){delete this._timers[e]},r.prototype.startTimer=function(e,t){this.log("#startTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!0,t&&(n.tick=0))},r.prototype.stopTimer=function(e,t){this.log("#stopTimer(name="+e+", reset="+t+")");var n=this._timers[e];n&&(n.isActive=!1,t&&(n.tick=0))},r.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,window.clearInterval(this._clock))},r.prototype._onTick=function(){this.log("#_onTick() > ------------------- ("+this._currentTick+")"),this._currentTick++;for(var e in this._timers)if(this._timers.hasOwnProperty(e)){var t=this._timers[e];if(t.isActive&&(t.tick++,t.tick%t.interval===0)){var n={};n[s.TIMER_INTERVAL]=t.interval,this._channel.trigger(new a(a[e],n))}}},t.clock.TimerManager=r}(r,o),function(e,t){"use strict";function n(e,t,n,r,i,o){this.enableLogging("[heartbeat::Timer] > "),this._isDestroyed=!1,this._channel=e,this._timerManager=t,this._interval=o,this._tickEventName=n,this._enableEventName=r,this._disableEventName=i,this._timerManager.createTimer(this._tickEventName,this._interval),this._installEventListeners()}var r=e.logger,i=e.mixin,o=t.event.EventKeyName;i(n,r),n.prototype.start=function(e){this.log("Starting timer: "+this._tickEventName),this._timerManager.startTimer(this._tickEventName,e)},n.prototype.stop=function(e){this.log("Stopping timer: "+this._tickEventName+")"),this._timerManager.stopTimer(this._tickEventName,e)},n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._uninstallEventListeners(),this._timerManager.destroyTimer(this._tickEventName))},n.prototype.setInterval=function(e){var t=this._timerManager.isTimerActive(this._tickEventName);this.stop(!0),this._interval=e,this._timerManager.createTimer(this._tickEventName,this._interval),t&&this.start(!0)},n.prototype._onTimerEnabled=function(e){var t=e.data,n=!1;t&&t.hasOwnProperty(o.RESET)&&(n=t[o.RESET]),this.start(n)},n.prototype._onTimerDisabled=function(e){var t=e.data,n=!1;t&&t.hasOwnProperty(o.RESET)&&(n=t[o.RESET]),this.stop(n)},n.prototype._installEventListeners=function(){this._channel.on(this._enableEventName,this._onTimerEnabled,this),this._channel.on(this._disableEventName,this._onTimerDisabled,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},t.clock.Timer=n}(r,o),function(e,t){"use strict";function n(e,t){n.__super__.constructor.call(this,e,t,a.CLOCK_TRACKING_TICK,a.CLOCK_TRACKING_ENABLE,a.CLOCK_TRACKING_DISABLE,u),this._installEventListeners(),this.enableLogging("[heartbeat::TrackingTimer] > ")}var r=e.mixin,i=e.logger,o=t.event.NetworkEvent,a=t.event.ClockEvent,s=t.event.EventKeyName,l=t.clock.Timer,u=10;n.TRACKING_TIMER_INTERVAL="tracking_timer_interval",e.extend(n,l),r(n,i),n.prototype._onCheckStatusComplete=function(e){var t=e.data[s.TRACKING_INTERVAL];if(this.log("#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this.log("#_onCheckStatusComplete() > Interval value not changed.");this.log("#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t)}else this.warn("#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(u)},n.prototype._installEventListeners=function(){this._channel.on(o.NETWORK_CHECK_STATUS_COMPLETE,this._onCheckStatusComplete,this),this._channel.reply(n.TRACKING_TIMER_INTERVAL,function(){return this._interval},this),n.__super__._installEventListeners.call(this)},t.clock.TrackingTimer=n}(r,o),function(e,t){"use strict";function n(e,t){n.__super__.constructor.call(this,e,t,u.CLOCK_CHECK_STATUS_TICK,u.CLOCK_CHECK_STATUS_ENABLE,u.CLOCK_CHECK_STATUS_DISABLE,i),this._installEventListeners(),this.enableLogging("[heartbeat::CheckStatusTimer] > "),this.log("#CheckStatusTimer()"),this._channel.on(u.CLOCK_CHECK_STATUS_GET_SETTINGS,this._getSettings,this)}var r=600,i=60,o=e.mixin,a=e.logger,s=(e.radio.Command,t.event.NetworkEvent),l=t.event.EventKeyName,u=t.event.ClockEvent,c=t.clock.Timer;e.extend(n,c),o(n,a),n.prototype._onCheckStatusComplete=function(e){var t=e.data[l.CHECK_STATUS_INTERVAL];if(this.log("#_onCheckStatusComplete(interval="+t+")"),t){if(t==this._interval)return void this.log("#_onCheckStatusComplete() > Interval value not changed.");t>r?(this.warn("#_onCheckStatusComplete() > Interval value too large: "+t),this.setInterval(r)):(this.log("#_onCheckStatusComplete() > Interval changed to: "+t),this.setInterval(t))}else this.warn("#_onCheckStatusComplete() > Invalid interval value."),this.setInterval(i)},n.prototype._getSettings=function(){this.log("#_getSettings()");var e={};e[l.TIMER_INTERVAL]=this._interval,this._channel.trigger(new u(u.CLOCK_CHECK_STATUS_TICK,e))},n.prototype._installEventListeners=function(){this._channel.on(s.NETWORK_CHECK_STATUS_COMPLETE,this._onCheckStatusComplete,this),n.__super__._installEventListeners.call(this)},t.clock.CheckStatusTimer=n}(r,o),function(e,t){"use strict";function n(e){this._isDestroyed=!1,this._timerManager=new r(e),this._checkStatusTimer=new i(e,this._timerManager),this._trackingTimer=new o(e,this._timerManager)}var r=t.clock.TimerManager,i=t.clock.CheckStatusTimer,o=t.clock.TrackingTimer;n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this._trackingTimer.destroy(),this._checkStatusTimer.destroy(),this._timerManager.destroy())},t.clock.Clock=n}(r,o),function(e,t){"use strict";function n(e){this._data=e,this.enableLogging("[heartbeat::SettingsParser] > "),this.log("#SettingsParser(data="+e+")")}{var r=e.mixin,i=e.logger,o=t.event.EventKeyName;t.event.NetworkEvent}r(n,i),n.prototype.parse=function(){var e,t,n,r;if(!this._data)return void this.warn("#SettingsParser() > No data available for parsing.");if(window.DOMParser){var i=new window.DOMParser;r=i.parseFromString(this._data,"text/xml")}else r=new window.ActiveXObject("Microsoft.XMLDOM"),r.async=!1,r.loadXML(this.data);var a;a=parseInt(r.getElementsByTagName("trackingInterval")[0].childNodes[0].nodeValue,10),a&&(e=a),a=parseInt(r.getElementsByTagName("setupCheckInterval")[0].childNodes[0].nodeValue,10),a&&(t=a),a=parseInt(r.getElementsByTagName("trackExternalErrors")[0].childNodes[0].nodeValue,10),a&&(n=1==a);var s={};return s[o.TRACKING_INTERVAL]=e,s[o.CHECK_STATUS_INTERVAL]=t,s[o.TRACK_EXTERNAL_ERRORS]=n,this.log("#parse() > Obtained configuration settings: "+JSON.stringify(s)),s},t.network.SettingsParser=n}(r,o),function(e,t){"use strict";function n(e,n){v=t.HeartbeatPlugin,this._jobId=null,this._trackingServer=null,this._checkStatusServer=null,this._quietMode=!1,this._isConfigured=!1,this._isDestroyed=!1,this._channel=e,this._serializer=n,this._netQueue=new s,this._installEventListeners(),this.enableLogging("[heartbeat::Network] > ")}var r=e.mixin,i=e.logger,o=e.radio.Event,a=e.radio.Command,s=e.radio.CommandQueue,l=t.event.ApiEvent,u=e.URLRequestMethod,c=e.URLRequest,d=e.URLLoader,p=t.event.EventKeyName,f=t.event.ClockEvent,h=t.event.ContextEvent,y=t.event.NetworkEvent,m=t.network.SettingsParser,g=t.model.EventDao,v=t.HeartbeatPlugin;r(n,i),n.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this.log("#destroy()"),this._netQueue.cancelAllCommands(),this._uninstallEventListeners())},n.prototype._onApiConfig=function(e){var t=e.data;this.log("#_onApiConfig(sb_server="+t[p.TRACKING_SERVER]+", check_status_server="+t[p.CHECK_STATUS_SERVER]+", job_id="+t[p.JOB_ID]+", quiet_mode="+t[p.QUIET_MODE]+")"),this._jobId=t[p.JOB_ID];var n=this._channel.request(v.USE_SSL);this._trackingServer=this._updateRequestProtocol(t[p.TRACKING_SERVER],n),this._checkStatusServer=this._updateRequestProtocol(t[p.CHECK_STATUS_SERVER],n),this._quietMode=t[p.QUIET_MODE],this._isConfigured=!0},n.prototype._onContextDataAvailable=function(t){if(!this._isConfigured)return void this.warn("#_onContextDataAvailable() > Unable to send request: not configured.");var n=new a(function(){for(var n=t.data[p.REPORT],r=this._serializer.serializeReport(n),i=0;i<r.length;i++){var a=r[i],s=this._trackingServer+"/?__job_id="+window.encodeURIComponent(this._jobId)+"&"+a,l=new c(s,u.GET);this.info("_onContextDataAvailable() > Sending request: "+l.url);var f=new d;!function(e,t){function n(){e.close()}function r(n){t.warn("#_onContextDataAvailable() > Failed to send heartbeat report: "+JSON.stringify(n)),e.close()}t._quietMode||(e.addEventListener(o.SUCCESS,n,this),e.addEventListener(o.ERROR,r,this),e.load(l))}(f,this)}n.reportEntries[0].eventData.type()==g.EVENT_TYPE_UNLOAD&&this._channel.trigger(new e.radio.Event(v.VIDEO_UNLOADED))},this);this._netQueue.addCommand(n)},n.prototype._onClockCheckStatusTick=function(){if(!this._isConfigured)return void this.warn("#_onClockCheckStatusTick() > Unable to send request: not configured.");var e=this._channel.request(v.PUBLISHER);if(!e)return void this.warn("#_onClockCheckStatusTick() > Publisher is NULL.");var t=new a(function(){function t(e){if(e.data){var t=new m(e.data.response),n=t.parse();n?r._channel.trigger(new y(y.NETWORK_CHECK_STATUS_COMPLETE,n)):r.warn("#_onClockCheckStatusTick() > Failed to parse the config. settings.")}s.close()}function n(e){r.warn("#_onClockCheckStatusTick() > Failed to obtain the config. settings: "+JSON.stringify(e)),s.close()}var r=this;e=e.replace(/[^a-zA-Z0-9]+/,"-").toLocaleLowerCase();var i=this._checkStatusServer+e+".xml?r="+(new Date).getTime(),a=new c(i,u.GET),s=new d;s.addEventListener(o.SUCCESS,t,this),s.addEventListener(o.ERROR,n,this),this.log("#_onClockCheckStatusTick() > Get new settings from: "+i),s.load(a)},this);this._netQueue.addCommand(t)},n.prototype._updateRequestProtocol=function(e,t){var n=e;return 0===n.indexOf("http://")?n=n.slice(7):0===n.indexOf("https://")&&(n=n.slice(8)),t?"https://"+n:"http://"+n},n.prototype._installEventListeners=function(){this._channel.on(l.API_CONFIG,this._onApiConfig,this),this._channel.on(h.CONTEXT_DATA_AVAILABLE,this._onContextDataAvailable,this),this._channel.on(f.CLOCK_CHECK_STATUS_TICK,this._onClockCheckStatusTick,this)},n.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},t.network.Network=n}(r,o),function(e,t){"use strict";function n(){this._totalCount={},this._totalDuration={},this.enableLogging("[heartbeat::Counters] > ")}function r(e){var t=e.getAssetId()+"."+e.assetData.type()+"."+e.eventType;return t}var i=e.mixin,o=e.logger;i(n,o),n.prototype.getTotalCount=function(e){var t=r(e);return this._totalCount[t]||(this._totalCount[t]=0),this.log("#getTotalCount(key="+t+")"),this._totalCount[t]},n.prototype.incrementTotalCount=function(e){var t=r(e);this._totalCount[t]||(this._totalCount[t]=0),this.log("#incrementTotalCount(key="+t+")"),this._totalCount[t]++},n.prototype.getTotalDuration=function(e){var t=r(e);return this._totalDuration[t]||(this._totalDuration[t]=0),this.log("#getTotalDuration(key="+t+")"),this._totalDuration[t]},n.prototype.increaseTotalDuration=function(e){var t=r(e);this._totalDuration[t]||(this._totalDuration[t]=0),this.log("#increaseTotalDuration(key="+t+", amount="+e.duration+")"),this._totalDuration[t]+=e.duration},n.prototype.resetCounters=function(e,t){var n=e+"."+t;this.log("#resetCounters(key="+n+")");var r;for(r in this._totalCount)this._totalCount.hasOwnProperty(r)&&-1!=r.indexOf(n)&&(this._totalCount[r]=0);for(r in this._totalDuration)this._totalDuration.hasOwnProperty(r)&&-1!=r.indexOf(n)&&(this._totalDuration[r]=0)},t.context.Counters=n}(r,o),function(e,t){"use strict";function n(){this._items={},this.enableLogging("[heartbeat::History] > ")}function r(e){var t=e.assetData,n=t.adData()?t.adData().adId():t.videoId();return n+"."+t.type()+"."+e.eventType}var i=e.mixin,o=e.logger;i(n,o),n.prototype.updateWith=function(e){var t=r(e);this.log("#updateWith(key="+t+")"),this._items[t]=e},n.prototype.getPreviousItemOfSameTypeWith=function(e){var t=r(e);return this.log("#getPreviousItemOfSameTypeWith(key="+t+")"),this._items[t]},t.context.History=n}(r,o),function(e,t){"use strict";function n(e,t,n,r,a){this.timestamp=new Date,this.assetData=new i(e),this.streamData=new o(t),this.qosData=n,this.eventType=r,this.playhead=a,this.duration=0,this.prevItemOfSameType=null}var r=t.model.EventDao,i=t.model.AssetDao,o=t.model.StreamDao;n.clone=function(e){var t=new n(e.assetData,e.streamData,e.qosData,e.eventType,e.playhead);return t.timestamp=e.timestamp,t},n.prototype.getAssetId=function(){return this.eventType===r.EVENT_TYPE_ACTIVE?this.assetData.videoId():this.assetData.adData()?this.assetData.adData().adId():this.assetData.videoId()},n.prototype.getEventCount=function(){return 1},t.context.TimelineItem=n}(r,o),function(e,t){"use strict";function n(e){this._timeline=[],this._context=e,this.enableLogging("[heartbeat::Timeline] > ")}function r(e){var t=e.eventType,n=e.assetData.type();return t===l.EVENT_TYPE_PLAY||t===l.EVENT_TYPE_BUFFER||t===l.EVENT_TYPE_START&&n!==u.TYPE_AD}function i(e,t){return t.getTime()-e.getTime()}var o=e.mixin,a=e.logger,s=t.context.TimelineItem,l=t.model.EventDao,u=t.model.AssetDao;o(n,a),n.prototype.getTimelineItems=function(){return this._timeline.slice()},n.prototype.getLast=function(){return this._timeline.length>0?this._timeline[this._timeline.length-1]:null},n.prototype.addItem=function(e){var t=this.getLast();t&&t.eventType!==l.EVENT_TYPE_ACTIVE&&(t.duration=i(t.timestamp,e.timestamp),this._updateItemStats(t)),this.log("#addItem() >  | "+e.assetData.type()+" | "+e.eventType+" | "+e.playhead+" | "+(e.prevItemOfSameType?e.prevItemOfSameType.timestamp.getTime():"-1")+" | "+e.timestamp.getTime()),this._timeline.push(e)},n.prototype.addActiveItem=function(e){var t=this.getLast();this.addItem(e),e.duration=0;for(var n=this._timeline.length-2;n>=0;n--){var i=this._timeline[n];if(i.eventType==l.EVENT_TYPE_ACTIVE)break;e.duration+=i.duration}if(this._updateItemStats(e),e.eventType===l.EVENT_TYPE_ACTIVE&&r(t)){var o=s.clone(t);o.prevItemOfSameType=t,o.timestamp=e.timestamp,o.playhead=e.playhead,o.duration=0,this.addItem(o)}},n.prototype._updateItemStats=function(e){var t=this._context._counters;t.incrementTotalCount(e),t.increaseTotalDuration(e)},t.context.Timeline=n}(r,o),function(e,t){"use strict";function n(e){this._context=e,this.enableLogging("[heartbeat::ReporterHelper] > ")}var r=e.mixin,i=e.logger,o=t.model.Report,a=t.model.EventDao,s=t.model.AssetDao,l=t.model.ReportEntry;r(n,i),n.prototype.createReportForItem=function(e,t){var n=this._context._counters,r=new o(this._context._adobeAnalyticsData,this._context._userData,this._context._serviceProviderData,this._context._sessionData);return e.duration=0,n.incrementTotalCount(e),n.increaseTotalDuration(e),r.addEntry(this._buildReportEntryForItem(e,t)),r},n.prototype.createReportForQuantum=function(e,t){var n,r,i=this._selectTimelineItemsForCurrentQuantum(t);for(this.log("#createReportForQuantum() > -------------[ SUMMARY REPORT ]----------------"),n=0;n<i.length;n++)r=i[n],this.log("#createReportForQuantum() >  | "+r.assetData.type()+" | "+r.eventType+" | "+r.playhead+" | "+r.duration);for(i=this._compactTimelineItems(i),this.log("#createReportForQuantum() > -----------------------------------------"),n=0;n<i.length;n++)r=i[n],this.log("#createReportForQuantum() >  | "+r.assetData.type()+" | "+r.eventType+" | "+r.playhead+" | "+r.duration);this.log("#createReportForQuantum() > -----------------------------------------");var o=this._createReport(i,e,t);return o},n.prototype._selectTimelineItemsForCurrentQuantum=function(e){var t,n,r=this._context._timeline.getTimelineItems(),i=[];if(e)t=r.length;else{for(n=r.length-2;n<r.length;n++){var o=r[n];if(o.eventType===a.EVENT_TYPE_ACTIVE){t=n,i.unshift(o);break}}if(!t)throw new Error("Expecting an ACTIVE event in the last 2 on the timeline.")}for(n=t-1;n>=0;n--){var s=r[n];if(s.eventType==a.EVENT_TYPE_ACTIVE)break;i.unshift(s)}return i},n.prototype._compactTimelineItems=function(e){var t,n=[],r=function(e){var t;for(t=0;t<n.length;t++){var r=n[t],i=!1;if(e.eventType==r.eventType&&e.assetData.type()==r.assetData.type()){if(i=e.assetData.type()==s.TYPE_AD?e.assetData.adData().adId()==r.assetData.adData().adId()&&e.assetData.adData().podPosition()==r.assetData.adData().podPosition():e.assetData.videoId()==r.assetData.videoId(),!i)continue;i=e.assetData.chapterData()?r.assetData.chapterData()&&e.assetData.chapterData().id()==r.assetData.chapterData().id()&&e.assetData.chapterData().position()==r.assetData.chapterData().position():null==r.assetData.chapterData()}if(i)return r}return null};for(t=0;t<e.length;t++){var i=e[t],o=r(i);o?(o.playhead=i.playhead,o.timestamp=i.timestamp,o.duration+=i.duration):n.push(i)}return n},n.prototype._createReport=function(e,t,n){var r,i=new o(this._context._adobeAnalyticsData,this._context._userData,this._context._serviceProviderData,this._context._sessionData);for(r=0;r<e.length;r++)i.addEntry(this._buildReportEntryForItem(e[r],t));var s=i.reportEntries[i.reportEntries.length-1];if(!n&&s.eventData.type()!=a.EVENT_TYPE_ACTIVE)throw new Error("Expecting the last report entry to represent an ACTIVE event.");for(r=0;r<i.reportEntries.length-1;r++){var l=i.reportEntries[r];l.eventData.tsAsDate(s.eventData.tsAsDate())}return i.discardPauseEvents(),i},n.prototype._buildReportEntryForItem=function(e,t){var n=this._context._counters,r=new a(t);return r.type(e.eventType),r.count(e.getEventCount()),r.duration(e.duration),r.totalCount(n.getTotalCount(e)),r.totalDuration(n.getTotalDuration(e)),r.playhead(e.playhead),r.ts(e.timestamp.getTime()),r.prevTs(e.prevItemOfSameType?e.prevItemOfSameType.timestamp.getTime():-1),new l(r,e.assetData,e.streamData,e.qosData)},t.context.ReporterHelper=n}(r,o),function(e,t,n,r){"use strict";function i(e){a=t.HeartbeatPlugin,this._assetData=null,this._streamData=null,this._qosData=null,this._sessionData=null,this._adobeAnalyticsData=new v,this._serviceProviderData=new b,this._userData=new w,this._videoAssetType=null,this._counters=new C,this._history=null,this._timeline=null,this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._activeAssetId=null,this._isDestroyed=!1,this._reporterHelper=new p(this),this._channel=e,this._stashedChapterData=null,this._stashedAdData=null,this._trackExternalErrors=!0,this._inputDataSanitizer=new d(this._onInvalidInputData,this),this._installEventListeners(),this.enableLogging("[heartbeat::Context] > ")}function o(){return""+(new Date).getTime()+Math.floor(1e9*Math.random())}var a,s=e.mixin,l=e.deferrable,u=e.logger,c=e.radio.Event,d=e.InputDataSanitizer,p=t.context.ReporterHelper,f=t.clock.TrackingTimer,h=t.context.Timeline,y=t.context.TimelineItem,m=t.context.History,g=t.model.SessionDao,v=t.model.AdobeAnalyticsDao,_=t.model.AssetDao,b=t.model.ServiceProviderDao,w=t.model.UserDao,T=t.model.StreamDao,k=t.model.QoSDao,x=t.model.ChapterDao,C=t.context.Counters,S=t.event.ClockEvent,j=t.event.NetworkEvent,E=t.event.ApiEvent,A=t.event.ContextEvent,P=t.event.EventKeyName,O=t.model.EventDao,I=t.model.AdDao,D=n.Version,M=r.md5,L="sourceErrorSDK",N="error";s(i,l),s(i,u),i.prototype.destroy=function(){this._isDestroyed||(this._isDestroyed=!0,this.log("#destroy()"),this._uninstallEventListeners())},i.prototype._onApiConfig=function(e){var t=e.data;this.log("#_onApiConfig(, tracking_server="+t[P.TRACKING_SERVER]+", check_status_server="+t[P.CHECK_STATUS_SERVER]+", job_id="+t[P.JOB_ID]+", quietMode: "+t[P.QUIET_MODE]+")"),this._adobeAnalyticsData.reportSuiteId(this._channel.request(a.RSID)),this._adobeAnalyticsData.trackingServer(this._channel.request(a.TRACKING_SERVER)),this._adobeAnalyticsData.ssl(this._channel.request(a.USE_SSL)?1:0),this._userData.visitorId(this._channel.request(a.VISITOR_ID)),this._userData.analyticsVisitorId(this._channel.request(a.ANALYTICS_VISITOR_ID)),this._userData.marketingCloudVisitorId(this._channel.request(a.MARKETING_CLOUD_VISITOR_ID)),this._serviceProviderData.ovp(this._channel.request(a.OVP)),this._serviceProviderData.sdk(this._channel.request(a.SDK)),this._serviceProviderData.channel(this._channel.request(a.CHANNEL)),this._serviceProviderData.libVersion(D.getVersion()),this._serviceProviderData.apiLevel(D.getApiLevel()),this._channel.trigger(new S(S.CLOCK_CHECK_STATUS_ENABLE))},i.prototype._onApiVideoLoad=function(){this._resetInternalState();var e=this._channel.request(a.VIDEO_INFO);if(this._inputDataSanitizer.sanitizeVideoInfo(e)){this.log("#_onApiVideoLoad(id="+e.id+", length="+e.length+", type="+e.streamType+", player_name="+e.playerName+")"),this._activeAssetId=e.id,this._serviceProviderData.playerName(e.playerName),this._assetData.videoId(this._activeAssetId),this._assetData.duration(e.length),this._assetData.type(e.streamType),this._assetData.publisher(this._channel.request(a.PUBLISHER)),this._videoAssetType=this._assetData.type(),this._streamData.name(e.name||this._activeAssetId),this._sessionData.sessionId(o()),this._counters.resetCounters(this._activeAssetId,this._videoAssetType),this._updateQoSInfo();var t=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_LOAD,0);t.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(t),this._history.updateWith(t);var n=this._channel.request(f.TRACKING_TIMER_INTERVAL),r=this._reporterHelper.createReportForItem(t,n),i={};i[P.REPORT]=r,this._channel.trigger(new A(A.CONTEXT_DATA_AVAILABLE,i)),this._isTrackingSessionActive=!0}},i.prototype._onApiVideoUnload=function(){if(!this._isTrackingSessionActive)return void this.warn("#_onApiVideoUnload() > No active tracking session.");this.log("#_onApiVideoUnload()");var e=this._channel.request(f.TRACKING_TIMER_INTERVAL),t=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_UNLOAD,0);t.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(t),this._history.updateWith(t);var n=this._reporterHelper.createReportForItem(t,e),r={};r[P.REPORT]=n,this._channel.trigger(new A(A.CONTEXT_DATA_AVAILABLE,r)),this._isTrackingSessionActive=!1},i.prototype._onApiVideoStart=function(){if(this._checkCall("_onApiVideoStart")){this.log("#_onApiVideoStart()");var e=this._getPlayhead();if(null!=e&&!isNaN(e)){var t={};t[P.RESET]=!0,this._channel.trigger(new S(S.CLOCK_TRACKING_ENABLE,t)),this._updateQoSInfo();var n=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_START,e);n.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(n),this._placeItemOnTimeline(n)}}},i.prototype._onApiVideoComplete=function(){if(this._checkCall("_onApiVideoComplete")){this.log("#_onApiVideoComplete()"),this._updateQoSInfo();var e=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_COMPLETE,this._assetData.duration());e.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(e),this._placeItemOnTimeline(e);var t=this._channel.request(f.TRACKING_TIMER_INTERVAL),n=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_PAUSE,0);n.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(n),this._placeItemOnTimeline(n);var r=this._reporterHelper.createReportForQuantum(t,!0),i={};i[P.REPORT]=r,this._channel.trigger(new A(A.CONTEXT_DATA_AVAILABLE,i)),i={},i[P.RESET]=!0,this._channel.trigger(new S(S.CLOCK_TRACKING_DISABLE,i)),this._isVideoComplete=!0}},i.prototype._onApiPlay=function(){if(this._checkCall("_onApiPlay")){this.log("#_onApiPlay()");var e=this._getPlayhead();if(null!=e&&!isNaN(e)){this._channel.trigger(new S(S.CLOCK_TRACKING_ENABLE)),this._updateQoSInfo();var t=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_PLAY,e);t.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(t),this._placeItemOnTimeline(t)}}},i.prototype._onApiPause=function(){if(this._checkCall("_onApiPause")){this.log("#_onApiPause()");var e=this._getPlayhead();if(null!=e&&!isNaN(e)){this._updateQoSInfo();var t=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_PAUSE,e);t.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(t),this._placeItemOnTimeline(t),this._channel.trigger(new S(S.CLOCK_TRACKING_DISABLE))}}},i.prototype._onApiBufferStart=function(){if(this._checkCall("_onApiBufferStart")){this.log("#_onApiBufferStart()");var e=this._getPlayhead();if(null!=e&&!isNaN(e)){this._updateQoSInfo();var t=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_BUFFER,e);t.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(t),this._placeItemOnTimeline(t)}}},i.prototype._onApiSeekStart=function(){this._checkCall("_onApiSeekStart")&&(this.log("#_onApiSeekStart()"),this._stashedAdData=this._assetData.adData(),this._stashedChapterData=this._assetData.chapterData(),this._assetData.adData(null),this._assetData.type(this._videoAssetType),this._activeAssetId=this._assetData.videoId(),this._assetData.chapterData(null))},i.prototype._onApiSeekComplete=function(){if(this._checkCall("_onApiSeekComplete")){var e=this._channel.request(a.AD_BREAK_INFO);if(this._inputDataSanitizer.sanitizeAdBreakInfo(e,!0)){var t=this._channel.request(a.AD_INFO);if(this._inputDataSanitizer.sanitizeAdInfo(t,!0)){var n=this._channel.request(a.CHAPTER_INFO);if(this._inputDataSanitizer.sanitizeChapterInfo(n,!0)){if(e&&t){var r=M(this._assetData.videoId())+"_"+e.position;if(this._stashedAdData&&this._stashedAdData.podId()==r&&parseInt(this._stashedAdData.podPosition(),10)==t.position)this._assetData.adData(this._stashedAdData),this._activeAssetId=this._stashedAdData.adId();else if(!this._assetData.adData()){this._activeAssetId=t.id;var i=new I;i.adId(this._activeAssetId),i.length(t.length),i.resolver(e.playerName),i.podId(r),i.podSecond(e.startTime),i.podPosition(t.position+""),i.sid(o()),this._assetData.adData(i)}this._assetData.type(_.TYPE_AD)}else this._assetData.adData(null),this._assetData.type(this._videoAssetType),this._activeAssetId=this._assetData.videoId();if(n){if(this._stashedChapterData&&n.position==this._stashedChapterData.position())this._assetData.chapterData(this._stashedChapterData);else if(!this._assetData.chapterData()){var s=new x;s.id(M(this._assetData.videoId())+"_"+n.position),s.name(n.name),s.length(n.length),s.position(n.position),s.offset(n.startTime),s.sid(o()),this._assetData.chapterData(s)}}else this._assetData.chapterData(null);this._stashedAdData=null,this._stashedChapterData=null}}}}},i.prototype._onApiAdStart=function(){if(this._checkCall("_onApiAdStart")){var e=this._channel.request(a.AD_BREAK_INFO);if(this._inputDataSanitizer.sanitizeAdBreakInfo(e,!1)){var t=this._channel.request(a.VIDEO_INFO);if(this._inputDataSanitizer.sanitizeVideoInfo(t)){(null==e.startTime||isNaN(e.startTime))&&(e.startTime=t.playhead);var n=this._channel.request(a.AD_INFO);if(this._inputDataSanitizer.sanitizeAdInfo(n,!1)){this.log("#_onApiAdStart(id="+n.id+", length="+n.length+", player_name="+e.playerName+", parent_name="+this._assetData.videoId()+", pod_pos="+n.position+", pod_offset="+e.startTime+")"),this._activeAssetId=n.id;var r=new I;r.adId(this._activeAssetId),r.length(n.length),r.resolver(e.playerName),r.podId(M(this._assetData.videoId())+"_"+e.position),r.podSecond(e.startTime),r.podPosition(n.position+""),r.sid(o()),this._assetData.adData(r),this._assetData.type(_.TYPE_AD),this._counters.resetCounters(this._activeAssetId,_.TYPE_AD),this._updateQoSInfo();var i=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_START,t.playhead);i.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(i),this._placeItemOnTimeline(i)}}}}},i.prototype._onApiAdComplete=function(){if(this._checkCall("_onApiAdComplete")){if(this.log("#_onApiAdComplete()"),this._assetData.type()!=_.TYPE_AD)return void this.warn("#_onApiAdComplete() > Ignoring the ad complete event, because we are no longer in an ad.");var e=this._getPlayhead();if(null!=e&&!isNaN(e)){this._updateQoSInfo();var t=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_PLAY,e);t.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(t),this._placeItemOnTimeline(t);var n=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_COMPLETE,e);n.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(n),this._placeItemOnTimeline(n),this._assetData.adData(null),this._assetData.type(this._videoAssetType),this._activeAssetId=this._assetData.videoId()}}},i.prototype._onApiChapterStart=function(){if(this._checkCall("_onApiChapterStart")){var e=this._channel.request(a.CHAPTER_INFO);if(this._inputDataSanitizer.sanitizeChapterInfo(e,!1)){this.log("#_onApiChapterStart(name="+e.name+", length="+e.length+", position="+e.position+", chapter_offset="+e.startTime+")");var t=this._getPlayhead();if(null!=t&&!isNaN(t)){var n=new x;if(n.id(M(this._assetData.videoId())+"_"+e.position),n.name(e.name),n.length(e.length),n.position(e.position),n.offset(e.startTime),n.sid(o()),this._assetData.chapterData(n),this._updateQoSInfo(),this._timeline.getLast().eventType==O.EVENT_TYPE_PLAY){var r=new y(this._assetData,this._streamData,this._qosData,this._timeline.getLast().eventType,t);r.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(r),this._placeItemOnTimeline(r)}var i=this._channel.request(f.TRACKING_TIMER_INTERVAL),s=new _(this._assetData);s.adData(null),s.type(this._videoAssetType);var l=new y(s,this._streamData,this._qosData,O.EVENT_TYPE_CHAPTER_START,t);l.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(l),this._history.updateWith(l);var u=this._reporterHelper.createReportForItem(l,i),c={};c[P.REPORT]=u,this._channel.trigger(new A(A.CONTEXT_DATA_AVAILABLE,c))}}}},i.prototype._onApiChapterComplete=function(){if(this._checkCall("_onApiChapterComplete")){if(this.log("#_onApiChapterComplete()"),!this._assetData.chapterData())return void this.warn("#_onApiChapterComplete() > Ignoring the chapter complete event, because we are no longer in a chapter.");var e=this._getPlayhead();if(null!=e&&!isNaN(e)){var t=this._channel.request(f.TRACKING_TIMER_INTERVAL),n=new _(this._assetData);n.adData(null),n.type(this._videoAssetType),this._updateQoSInfo();var r=new y(n,this._streamData,this._qosData,O.EVENT_TYPE_CHAPTER_COMPLETE,e);r.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(r),this._history.updateWith(r);var i=this._reporterHelper.createReportForItem(r,t),o={};if(o[P.REPORT]=i,this._channel.trigger(new A(A.CONTEXT_DATA_AVAILABLE,o)),this._assetData.chapterData(null),this._timeline.getLast().eventType==O.EVENT_TYPE_PLAY){var a=new y(this._assetData,this._streamData,this._qosData,this._timeline.getLast().eventType,e);a.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(a),this._placeItemOnTimeline(a)}}}},i.prototype._onApiBitrateChange=function(){if(this._checkCall("_onApiBitrateChange")){this.log("#_onApiBitrateChange()");var e=this._getPlayhead();if(null!=e&&!isNaN(e)){var t=this._channel.request(f.TRACKING_TIMER_INTERVAL);this._updateQoSInfo();var n=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_BITRATE_CHANGE,e);n.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(n),this._history.updateWith(n);var r=this._reporterHelper.createReportForItem(n,t),i={};i[P.REPORT]=r,this._channel.trigger(new A(A.CONTEXT_DATA_AVAILABLE,i))}}},i.prototype._onApiTrackError=function(e){if(this._checkCall("_onApiTrackError")){var t=this._getPlayhead();if(null!=t&&!isNaN(t)){var n=e.data;if(this.log("#_onApiTrackError(source="+n[P.SOURCE]+", err_id="+n[P.ERROR_ID]+")"),this._trackExternalErrors||n[P.SOURCE]===L){var r=this._channel.request(f.TRACKING_TIMER_INTERVAL);this._updateQoSInfo();var i=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_ERROR,t);i.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(i),this._history.updateWith(i);var o=this._reporterHelper.createReportForItem(i,r),a=o.reportEntries[0];a.eventData.id(n[P.ERROR_ID]),a.eventData.source(n[P.SOURCE]);var s={};s[P.REPORT]=o,this._channel.trigger(new A(A.CONTEXT_DATA_AVAILABLE,s))}}}},i.prototype._onApiTrackInternalError=function(e){var t=e.data;this.log("#_onApiTrackInternalError(source="+t[P.SOURCE]+", err_id="+t[P.ERROR_ID]+")"),this._updateQoSInfo();var n=new y(this._assetData,this._streamData,this._qosData,O.EVENT_TYPE_ERROR,0),r=this._channel.request(f.TRACKING_TIMER_INTERVAL),i=this._reporterHelper.createReportForItem(n,r),o=i.reportEntries[0];o.eventData.id(t[P.ERROR_ID]),o.eventData.source(t[P.SOURCE]);var a={};a[P.REPORT]=i,this._channel.trigger(new A(A.CONTEXT_DATA_AVAILABLE,a))
},i.prototype._onClockTrackingTick=function(e){if(this._checkCall("_onClockTrackingTick")){var t=e.data[P.TIMER_INTERVAL];this.log("#_onClockTrackingTick(interval="+t+")");var n=this._getPlayhead();if(null!=n&&!isNaN(n)){var r=new _(this._assetData);r.adData(null),r.type(this._videoAssetType),this._updateQoSInfo();var i=new y(r,this._streamData,this._qosData,O.EVENT_TYPE_ACTIVE,n);i.prevItemOfSameType=this._history.getPreviousItemOfSameTypeWith(i),this.log("#_onClockTrackingTick() > Adding the ACTIVE event on the time-line."),this._timeline.addActiveItem(i),this._history.updateWith(i);var o=this._reporterHelper.createReportForQuantum(t,!1),a={};a[P.REPORT]=o,this._channel.trigger(new A(A.CONTEXT_DATA_AVAILABLE,a))}}},i.prototype._onNetworkCheckStatusComplete=function(e){this._trackExternalErrors=e.data[P.TRACK_EXTERNAL_ERRORS],this.log("#_onNetworkCheckStatusComplete(track_ext_err="+this._trackExternalErrors+")")},i.prototype._installEventListeners=function(){this._channel.on(E.API_CONFIG,this._onApiConfig,this),this._channel.on(E.API_VIDEO_LOAD,this._onApiVideoLoad,this),this._channel.on(E.API_VIDEO_UNLOAD,this._onApiVideoUnload,this),this._channel.on(E.API_VIDEO_START,this._onApiVideoStart,this),this._channel.on(E.API_VIDEO_COMPLETE,this._onApiVideoComplete,this),this._channel.on(E.API_AD_START,this._onApiAdStart,this),this._channel.on(E.API_AD_COMPLETE,this._onApiAdComplete,this),this._channel.on(E.API_PLAY,this._onApiPlay,this),this._channel.on(E.API_PAUSE,this._onApiPause,this),this._channel.on(E.API_BUFFER_START,this._onApiBufferStart,this),this._channel.on(E.API_SEEK_START,this._onApiSeekStart,this),this._channel.on(E.API_SEEK_COMPLETE,this._onApiSeekComplete,this),this._channel.on(E.API_CHAPTER_START,this._onApiChapterStart,this),this._channel.on(E.API_CHAPTER_COMPLETE,this._onApiChapterComplete,this),this._channel.on(E.API_BITRATE_CHANGE,this._onApiBitrateChange,this),this._channel.on(E.API_TRACK_ERROR,this._onApiTrackError,this),this._channel.on(E.API_TRACK_INTERNAL_ERROR,this._onApiTrackInternalError,this),this._channel.on(S.CLOCK_TRACKING_TICK,this._onClockTrackingTick,this),this._channel.on(j.NETWORK_CHECK_STATUS_COMPLETE,this._onNetworkCheckStatusComplete,this)},i.prototype._uninstallEventListeners=function(){this._channel.off(null,null,this)},i.prototype._resetInternalState=function(){this.log("#_resetInternalState()"),this._isTrackingSessionActive=!1,this._isVideoComplete=!1,this._videoAssetType=null,this._counters=new C,this._history=new m,this._timeline=new h(this),this._streamData=new T,this._qosData=new k,this._sessionData=new g,this._assetData=new _,this._stashedAdData=null,this._stashedChapterData=null},i.prototype._placeItemOnTimeline=function(e){this.log("#_placeItemOnTimeline(type="+e.eventType+")"),this._timeline.addItem(e),this._history.updateWith(e)},i.prototype._getPlayhead=function(){var e=null,t=this._channel.request(a.VIDEO_INFO);return this._inputDataSanitizer.sanitizeVideoInfo(t)&&(e=t.playhead),e},i.prototype._updateQoSInfo=function(){var e=this._channel.request(a.QOS_INFO);this._qosData.bitrate(e&&!isNaN(e.bitrate)?e.bitrate:0),this._qosData.fps(e&&!isNaN(e.fps)?e.fps:0),this._qosData.droppedFrames(e&&!isNaN(e.droppedFrames)?e.droppedFrames:0)},i.prototype._checkCall=function(e){return this._isTrackingSessionActive?this._isVideoComplete?(this.warn("#"+e+"() > The video content already completed."),!1):!0:(this.warn("#"+e+"() > No active tracking session."),!1)},i.prototype._onInvalidInputData=function(e){this._channel.trigger(new c(N,e))},t.context.Context=i}(r,o,n,t),function(e){"use strict";function t(e,t){this.quietMode=!1,this.trackingServer=e,this.jobId=t}e.HeartbeatPluginConfig=t}(o),function(e,t){"use strict";function n(){n.__super__.constructor.call(this,g),this._radio=new i;var e=this._channel=this._radio.channel(_);this._workQueue=new a(!0),this._inputDataSanitizer=new l(this._onInvalidInputData,this),this._clock=null,this._context=null,this._network=null,this._isConfigured=!1,this._initSubmodules(),e.on(y.ERROR,this._onError,this),e.on(n.VIDEO_UNLOADED,this._onVideoUnloaded,this),e.reply(n.RSID,function(){return this._pluginManager.request(T,n.RSID)},this),e.reply(n.TRACKING_SERVER,function(){return this._pluginManager.request(T,n.TRACKING_SERVER)},this),e.reply(n.USE_SSL,function(){return this._pluginManager.request(T,n.USE_SSL)},this),e.reply(n.VISITOR_ID,function(){return this._pluginManager.request(T,n.VISITOR_ID)},this),e.reply(n.ANALYTICS_VISITOR_ID,function(){return this._pluginManager.request(T,n.ANALYTICS_VISITOR_ID)},this),e.reply(n.MARKETING_CLOUD_VISITOR_ID,function(){return this._pluginManager.request(T,n.MARKETING_CLOUD_VISITOR_ID)},this),e.reply(n.ERROR_INFO,function(){return this._pluginManager.request(k,n.ERROR_INFO)},this),e.reply(n.OVP,function(){return this._pluginManager.request(w,n.OVP)},this),e.reply(n.SDK,function(){return this._pluginManager.request(w,n.SDK)},this),e.reply(n.CHANNEL,function(){return this._pluginManager.request(w,n.CHANNEL)},this),e.reply(n.PUBLISHER,function(){return this._pluginManager.request(w,n.PUBLISHER)},this),e.reply(n.VIDEO_INFO,function(){return this._pluginManager.request(b,n.VIDEO_INFO)},this),e.reply(n.AD_BREAK_INFO,function(){return this._pluginManager.request(b,n.AD_BREAK_INFO)},this),e.reply(n.AD_INFO,function(){return this._pluginManager.request(b,n.AD_INFO)},this),e.reply(n.CHAPTER_INFO,function(){return this._pluginManager.request(b,n.CHAPTER_INFO)},this),e.reply(n.QOS_INFO,function(){return this._pluginManager.request(b,n.QOS_INFO)},this)}var r=e.event.EventKeyName,i=t.radio.Radio,o=t.radio.Channel,a=t.radio.CommandQueue,s=t.radio.Command,l=t.InputDataSanitizer,u=e.event.ApiEvent,c=e.event.ClockEvent,d=e.clock.Clock,p=e.network.Network,f=e.context.Context,h=e.model.QuerystringSerializer,y=t.plugin.PluginManager,m=t.plugin.BasePlugin;t.extend(n,m);var g="heartbeat",v="sourceErrorHeartbeat",_="heartbeat",b="player",w="config",T="adobe-analytics",k=m.STATE_PLUGIN;n.VIDEO_LOAD="video_load",n.VIDEO_UNLOAD="video_unload",n.VIDEO_UNLOADED="video_unloaded",n.VIDEO_START="video_start",n.VIDEO_COMPLETE="video_complete",n.PLAY="play",n.PAUSE="pause",n.AD_START="ad_start",n.AD_COMPLETE="ad_complete",n.BUFFER_START="buffer_start",n.BUFFER_COMPLETE="buffer_complete",n.SEEK_START="seek_start",n.SEEK_COMPLETE="seek_complete",n.CHAPTER_START="chapter_start",n.CHAPTER_COMPLETE="chapter_complete",n.BITRATE_CHANGE="bitrate_change",n.TRACK_ERROR="track_error",n.VIDEO_INFO="video_info",n.AD_BREAK_INFO="ad_break_info",n.AD_INFO="ad_info",n.CHAPTER_INFO="chapter_info",n.QOS_INFO="qos_info",n.RSID="rsid",n.TRACKING_SERVER="tracking_server",n.USE_SSL="use_ssl",n.VISITOR_ID="visitor_id",n.ANALYTICS_VISITOR_ID="analytics_visitor_id",n.MARKETING_CLOUD_VISITOR_ID="marketing_cloud_visitor_id",n.OVP="ovp",n.SDK="sdk",n.CHANNEL="channel",n.PUBLISHER="publisher",n.prototype.configure=function(e){this.log("#configure({, trackingServer="+e.trackingServer+", jobId="+e.jobId+", quietMode="+e.quietMode+"})");var t=e.trackingServer+"/settings/",n={};n[r.TRACKING_SERVER]=e.trackingServer,n[r.CHECK_STATUS_SERVER]=t,n[r.JOB_ID]=e.jobId,n[r.QUIET_MODE]=e.quietMode,this._enqueueEvent(new u(u.API_CONFIG,n)),this._enqueueEvent(new c(c.CLOCK_CHECK_STATUS_GET_SETTINGS)),this._isConfigured=!0},n.prototype.bootstrap=function(e){n.__super__.bootstrap.call(this,e);var t=this._eventMap={};t[n.VIDEO_LOAD]=u.API_VIDEO_LOAD,t[n.VIDEO_UNLOAD]=u.API_VIDEO_UNLOAD,t[n.VIDEO_START]=u.API_VIDEO_START,t[n.VIDEO_COMPLETE]=u.API_VIDEO_COMPLETE,t[n.PLAY]=u.API_PLAY,t[n.PAUSE]=u.API_PAUSE,t[n.AD_START]=u.API_AD_START,t[n.AD_COMPLETE]=u.API_AD_COMPLETE,t[n.BUFFER_START]=u.API_BUFFER_START,t[n.SEEK_START]=u.API_SEEK_START,t[n.SEEK_COMPLETE]=u.API_SEEK_COMPLETE,t[n.CHAPTER_START]=u.API_CHAPTER_START,t[n.CHAPTER_COMPLETE]=u.API_CHAPTER_COMPLETE,t[n.BITRATE_CHANGE]=u.API_BITRATE_CHANGE,t[n.TRACK_ERROR]=u.API_TRACK_ERROR;var r=this._customActions={};r[n.VIDEO_LOAD]=this._onVideoLoad,r[n.VIDEO_UNLOAD]=this._onVideoUnload,r[n.PLAY]=this._onPlay,r[n.PAUSE]=this._onPause,r[n.AD_START]=this._onAdStart,r[n.AD_COMPLETE]=this._onAdComplete,r[n.BUFFER_START]=this._onBufferStart,r[n.BUFFER_COMPLETE]=this._onBufferComplete,r[n.SEEK_START]=this._onSeekStart,r[n.SEEK_COMPLETE]=this._onSeekComplete,r[n.TRACK_ERROR]=this._onTrackError,this._pluginManager.on(b,o.WILDCARD,this._onPlayerEvent,this),this._resetInternalState()},n.prototype.setup=function(){this._pluginManager.pluginExists(T)?this._pluginManager.isPluginInitialized(T)?this._completeInitialization():this._pluginManager.on(T,m.INITIALIZED,this._completeInitialization,this):this._completeInitialization()},n.prototype._teardown=function(){this.log("#_teardown()"),this._radio.shutdown(),this._context.destroy(),this._clock.destroy(),this._network.destroy(),this._workQueue.cancelAllCommands()},n.prototype._onPlayerEvent=function(e){if(this._canProcess()){var t=e.type.split(":"),n=t[1],r=e.data;this.log("#_onPlayerEvent() > Tracking event: "+n.toUpperCase()),this._retriggerEvent(n,r)}},n.prototype._retriggerEvent=function(e,t){var n=this._eventMap[e],r=this._customActions[e];if(n||"function"==typeof r){var i=this,o=function(e){return i._enqueueEvent(new u(n,e))};"function"==typeof r?r.call(this,o,t):o(t)}},n.prototype._onVideoLoad=function(e){this._isTrackingSessionActive&&this._enqueueEvent(new u(u.API_VIDEO_UNLOAD)),this._resetInternalState(),e(),this._isTrackingSessionActive=!0},n.prototype._onVideoUnload=function(e){e(),this._isTrackingSessionActive=!1},n.prototype._onPlay=function(){this._isPaused=!1,this._resumePlaybackIfPossible()},n.prototype._onPause=function(e){e(),this._isPaused=!0},n.prototype._onAdStart=function(e){e(),this._resumePlaybackIfPossible()},n.prototype._onAdComplete=function(e){e(),this._resumePlaybackIfPossible()},n.prototype._onBufferStart=function(e){e(),this._isBuffering=!0},n.prototype._onBufferComplete=function(){this._isBuffering=!1,this._resumePlaybackIfPossible()},n.prototype._onSeekStart=function(e){e(),this._enqueueEvent(new u(u.API_PAUSE)),this._isSeeking=!0},n.prototype._onSeekComplete=function(e){e(),this._isSeeking=!1,this._resumePlaybackIfPossible()},n.prototype._onTrackError=function(e,t){this.log("#_onTrackError(source="+t[r.SOURCE]+", errorId="+t[r.ERROR_ID]+")."),e(t)},n.prototype._onError=function(e){var t=e.data,n={};n[r.SOURCE]=v,n[r.ERROR_ID]=t.message+"|"+t.details,this._channel.trigger(new u(u.API_TRACK_INTERNAL_ERROR,n)),this._trigger(y.ERROR,e.data)},n.prototype._onVideoUnloaded=function(){this._trigger(n.VIDEO_UNLOADED)},n.prototype._initSubmodules=function(){this._context=new f(this._channel),this._clock=new d(this._channel),this._network=new p(this._channel,new h)},n.prototype._canTrack=function(){return this._isConfigured||this.warn("_canTrack() > Unable to track! Is configured: "+this._isConfigured),this._isConfigured},n.prototype._enqueueEvent=function(e){this.log("#_enqueueEvent() : "+e.type),this._workQueue.addCommand(new s(function(){this._canTrack()&&this._channel.trigger(e)},this))},n.prototype._resetInternalState=function(){this._isTrackingSessionActive=!1,this._isPaused=!1,this._isSeeking=!1,this._isBuffering=!1},n.prototype._resumePlaybackIfPossible=function(){this._isPaused||this._isSeeking||this._isBuffering||this._enqueueEvent(new u(u.API_PLAY))},n.prototype._completeInitialization=function(){var e=this._pluginManager.request(k,m.ERROR_INFO);return e?(this.warn("#_completeInitialization() > Unable to track: in ERROR state."),void this._workQueue.cancelAllCommands()):(this._workQueue.flush(),void n.__super__.setup.call(this))},e.HeartbeatPlugin=n}(o,r),function(e,t){"use strict";function n(){n.__super__.constructor.call(this,i),this._config=null;var e={};e.publisher="publisher",e.channel="channel",e.ovp="ovp",e.sdk="sdk",e.is_primetime="__primetime",this._dataResolver=function(t){return this._config?this._config[e[t]]:null}}var r=t.plugin.BasePlugin;t.extend(n,r);var i="config";n.prototype.configure=function(e){this._config=e,n.__super__.setup.call(this)},n.prototype.setup=function(){},e.ConfigPlugin=n}(i,r),function(e,t){"use strict";function n(){n.__super__.constructor.call(this,o)}var r=t.plugin.BasePlugin,i=t.plugin.PluginManager;t.extend(n,r);var o="state";n.prototype.bootstrap=function(e){n.__super__.bootstrap.call(this,e),this._pluginManager.on(i.ALL_PLUGINS,i.ERROR,this._onError,this),this._dataResolver[r.ERROR_INFO]=function(){return this._isEnabled?this._errorInfo:null}},n.prototype._onError=function(e){this._errorInfo=e.data,this.warn("#_onError() > "+this._errorInfo.message+": "+this._errorInfo.details)},e.StatePlugin=n}(i,r),function(e,t,n){"use strict";function r(e){r.__super__.constructor.call(this,s),this._playerDelegate=e}var i=n.event.EventKeyName,o=t.plugin.BasePlugin,a=t.plugin.PluginManager;t.extend(r,o);var s="player",l="sourceErrorExternal",u="sourceErrorSDK",c="heartbeat";r.VIDEO_LOAD="video_load",r.VIDEO_UNLOAD="video_unload",r.VIDEO_UNLOADED="video_unloaded",r.VIDEO_START="video_start",r.VIDEO_COMPLETE="video_complete",r.PLAY="play",r.PAUSE="pause",r.AD_START="ad_start",r.AD_COMPLETE="ad_complete",r.BUFFER_START="buffer_start",r.BUFFER_COMPLETE="buffer_complete",r.SEEK_START="seek_start",r.SEEK_COMPLETE="seek_complete",r.CHAPTER_START="chapter_start",r.CHAPTER_COMPLETE="chapter_complete",r.BITRATE_CHANGE="bitrate_change",r.TRACK_ERROR="track_error";var d="video_info",p="ad_break_info",f="ad_info",h="chapter_info",y="qos_info";r.prototype.setup=function(){this._pluginManager.on(c,r.VIDEO_UNLOADED,this._onVideoUnloaded,this),this._pluginManager.on(a.ALL_PLUGINS,a.ERROR,this._onError,this),this._checkPlayerDelegate();var e={};e[d]=this._playerDelegate.getVideoInfo,e[f]=this._playerDelegate.getAdInfo,e[p]=this._playerDelegate.getAdBreakInfo,e[h]=this._playerDelegate.getChapterInfo,e[y]=this._playerDelegate.getQoSInfo,this._dataResolver=function(t){return this._isEnabled?e[t].call(this._playerDelegate):null},r.__super__.setup.call(this)},r.prototype.trackVideoLoad=function(){this._canProcess()&&(this._trigger(r.VIDEO_LOAD),this._trigger(r.VIDEO_START))},r.prototype.trackVideoUnload=function(){this._canProcess()&&this._trigger(r.VIDEO_UNLOAD)},r.prototype.trackPlay=function(){this._canProcess()&&this._trigger(r.PLAY)},r.prototype.trackPause=function(){this._canProcess()&&this._trigger(r.PAUSE)},r.prototype.trackBufferStart=function(){this._canProcess()&&this._trigger(r.BUFFER_START)},r.prototype.trackBufferComplete=function(){this._canProcess()&&this._trigger(r.BUFFER_COMPLETE)},r.prototype.trackSeekStart=function(){this._canProcess()&&this._trigger(r.SEEK_START)},r.prototype.trackSeekComplete=function(){this._canProcess()&&this._trigger(r.SEEK_COMPLETE)},r.prototype.trackComplete=function(){this._canProcess()&&this._trigger(r.VIDEO_COMPLETE)},r.prototype.trackChapterStart=function(){this._canProcess()&&this._trigger(r.CHAPTER_START)},r.prototype.trackChapterComplete=function(){this._canProcess()&&this._trigger(r.CHAPTER_COMPLETE)},r.prototype.trackAdStart=function(){this._canProcess()&&this._trigger(r.AD_START)},r.prototype.trackAdComplete=function(){this._canProcess()&&this._trigger(r.AD_COMPLETE)},r.prototype.trackBitrateChange=function(){this._canProcess()&&this._trigger(r.BITRATE_CHANGE)},r.prototype.trackVideoPlayerError=function(e){var t={};t[i.SOURCE]=u,t[i.ERROR_ID]=e,this._trigger(r.TRACK_ERROR,t)},r.prototype.trackApplicationError=function(e){var t={};t[i.SOURCE]=l,t[i.ERROR_ID]=e,this._trigger(r.TRACK_ERROR,t)},r.prototype._onVideoUnloaded=function(){this._canProcess()&&this._playerDelegate.onVideoUnloaded()},r.prototype._onError=function(e){if(this._canProcess()){var t=this;window.setTimeout(function(){t._playerDelegate.onError(e.data)},100)}},r.prototype._checkPlayerDelegate=function(){this._playerDelegate||this.error("PlayerDelegate cannot be null."),"function"!=typeof this._playerDelegate.getVideoInfo&&this.error("PlayerDelegate must define the getVideoInfo method."),"function"!=typeof this._playerDelegate.getAdBreakInfo&&this.error("PlayerDelegate must define the getAdBreakInfo method."),"function"!=typeof this._playerDelegate.getAdInfo&&this.error("PlayerDelegate must define the getAdInfo method."),"function"!=typeof this._playerDelegate.getChapterInfo&&this.error("PlayerDelegate must define the getChapterInfo method."),"function"!=typeof this._playerDelegate.getQoSInfo&&this.error("PlayerDelegate must define the getQoSInfo method.")},e.PlayerPlugin=r}(i,r,o),function(e,t,n,r,i){"use strict";function o(e,t){this.enableLogging("[video-heartbeat::VideoHeartbeat] > "),this._pluginManager=new a,this._statePlugin=new s,this._pluginManager.addPlugin(this._statePlugin),this._configPlugin=new l,this._pluginManager.addPlugin(this._configPlugin),this._playerPlugin=new u(e),this._pluginManager.addPlugin(this._playerPlugin),this._heartbeatPlugin=new c,this._pluginManager.addPlugin(this._heartbeatPlugin),t=t||[];for(var n=0;n<t.length;n++)this._pluginManager.addPlugin(t[n]);this._pluginManager.setupPlugins(),this._isDestroyed=!1,this._isConfigured=!1}var a=e.plugin.PluginManager,s=i.StatePlugin,l=i.ConfigPlugin,u=i.PlayerPlugin,c=n.HeartbeatPlugin,d=n.HeartbeatPluginConfig,p="primetime";e.mixin(o,e.logger),o.prototype.configure=function(t){t||this.error("Configuration object cannot be NULL"),e.LOGGING_ENABLED=!!t.debugLogging,t.__primetime&&(t.ovp=p),t.__psdkVersion&&(t.sdk=t.__psdkVersion),this._configPlugin.configure(t);var n=new d(t.trackingServer,t.jobId);n.quietMode=t.quietMode,this._heartbeatPlugin.configure(n),this._isConfigured=!0},o.prototype.destroy=function(){this._isDestroyed||(this._pluginManager.destroy(),this._isDestroyed=!0)},o.prototype.trackVideoLoad=function(){return this._isConfigured?this._isDestroyed?void this.warn("#trackVideoLoad() > Unable to track: instance previously destroyed."):(this.log("#trackVideoLoad() > Tracking a VIDEO_LOAD event."),void this._playerPlugin.trackVideoLoad()):void this.warn("#trackVideoLoad() > Unable to track: not configured.")},o.prototype.trackVideoUnload=function(){this._checkCall("trackVideoUnload")&&(this.log("#trackVideoUnload() > Tracking a VIDEO_UNLOAD event."),this._playerPlugin.trackVideoUnload())},o.prototype.trackPlay=function(){this._checkCall("trackPlay")&&(this.log("#trackPlay() > Tracking a PLAY event."),this._playerPlugin.trackPlay())},o.prototype.trackPause=function(){this._checkCall("trackPause")&&(this.log("#trackPause() > Tracking a PAUSE event."),this._playerPlugin.trackPause())},o.prototype.trackBufferStart=function(){this._checkCall("trackBufferStart")&&(this.log("#trackBufferStart() > Tracking a BUFFER_START event."),this._playerPlugin.trackBufferStart())},o.prototype.trackBufferComplete=function(){this._checkCall("trackBufferComplete")&&(this.log("#trackBufferComplete() > Tracking a BUFFER_COMPLETE event."),this._playerPlugin.trackBufferComplete())},o.prototype.trackSeekStart=function(){this._checkCall("trackSeekStart")&&(this.log("#trackSeekStart() > Tracking a SEEK_START event."),this._playerPlugin.trackSeekStart())},o.prototype.trackSeekComplete=function(){this._checkCall("trackSeekComplete")&&(this.log("#trackSeekComplete() > Tracking a SEEK_COMPLETE event."),this._playerPlugin.trackSeekComplete())},o.prototype.trackComplete=function(){this._checkCall("trackComplete")&&(this.log("#trackComplete() > Tracking a COMPLETE event."),this._playerPlugin.trackComplete())},o.prototype.trackAdStart=function(){this._checkCall("trackAdStart")&&(this.log("#trackAdStart() > Tracking an AD_START event."),this._playerPlugin.trackAdStart())},o.prototype.trackAdComplete=function(){this._checkCall("trackAdComplete")&&(this.log("#trackAdComplete() > Tracking an AD_COMPLETE event."),this._playerPlugin.trackAdComplete())},o.prototype.trackChapterStart=function(){this._checkCall("trackChapterStart")&&(this.log("#trackChapterStart() > Tracking a CHAPTER_START event."),this._playerPlugin.trackChapterStart())},o.prototype.trackChapterComplete=function(){this._checkCall("trackChapterComplete")&&(this.log("#trackChapterComplete() > Tracking a CHAPTER_COMPLETE event."),this._playerPlugin.trackChapterComplete())},o.prototype.trackBitrateChange=function(){this._checkCall("trackBitrateChange")&&this._playerPlugin.trackBitrateChange()},o.prototype.trackVideoPlayerError=function(e){this._checkCall("trackVideoPlayerError")&&(this.log("#trackVideoPlayerError(errorId="+e+")."),this._playerPlugin.trackVideoPlayerError(e))},o.prototype.trackApplicationError=function(e){this._checkCall("trackApplicationError")&&(this.log("#trackApplicationError(errorId="+e+")."),this._playerPlugin.trackApplicationError(e))},o.prototype._checkCall=function(e){return this._errorInfo?(this.warn("#"+e+"() > Unable to track: in ERROR state. Message: "+this._errorInfo.message+" | Details: "+this._errorInfo.details),!1):this._isConfigured?this._isDestroyed?(this.warn("#"+e+"() > Unable to track: instance previously destroyed."),!1):!0:(this.warn("#"+e+"() > Unable to track: not configured."),!1)},o.prototype._resetInternalState=function(){this.log("#_resetInternalState() : Resetting internal state variables."),this._errorInfo=null,this._isTrackingSessionActive=!1,this._isPaused=!1,this._isSeeking=!1,this._isBuffering=!1},t.VideoHeartbeat=o}(r,n,o,t,i),e.ADB||(e.ADB={}),e.ADB.core||(e.ADB.core=r),e.ADB.va=n,e.ADB.va.plugins=i,e.ADB.va.utils=t}(this),/*
 * ************************************************************************
 *
 *  ADOBE CONFIDENTIAL
 *  ___________________
 *
 *   (c) Copyright 2014 Adobe Systems Incorporated
 *   All Rights Reserved.
 *
 *  NOTICE:  All information contained herein is, and remains
 *  the property of Adobe Systems Incorporated and its suppliers,
 *  if any.  The intellectual and technical concepts contained
 *  herein are proprietary to Adobe Systems Incorporated and its
 *  suppliers and may be covered by U.S. and Foreign Patents,
 *  patents in process, and are protected by trade secret or copyright law.
 *  Dissemination of this information or reproduction of this material
 *  is strictly forbidden unless prior written permission is obtained
 *  from Adobe Systems Incorporated.
 * ************************************************************************
 */
/*
 * video heartbeats - v1.4.0 - 2014-09-10
 * Copyright (c) 2014 adobe Systems, Inc. All Rights Reserved.
 */
!function(e){!function(e,t,n){"use strict";function r(e){if(r.__super__.constructor.call(this,u),!e){var t="The reference to the player delegate implementation cannot be NULL.";this.error(this+" "+t)}this._appMeasurement=e,this._workQueue=new i(!0,C),this._inputDataSanitizer=new a(this._onInvalidInputData,this)}var i=e.radio.CommandQueue,o=e.radio.Command,a=e.InputDataSanitizer,s=n.md5,l=e.plugin.BasePlugin;e.extend(r,l);var u="adobe-analytics",c="player",d="config",p="video_start",f="ad_start",h="video_info",y="ad_break_info",m="ad_info",g="channel",v="is_primetime",_="rsid",b="tracking_server",w="use_ssl",T="visitor_id",k="analytics_visitor_id",x="marketing_cloud_visitor_id",C=2e3,S="video",j="videoAd",E="ms_s",A="msp_s",P="msa_s",O="mspa_s";r.prototype.bootstrap=function(e){r.__super__.bootstrap.call(this,e),this._pluginManager.on(c,p,this._onPlayerVideoStart,this),this._pluginManager.on(c,f,this._onPlayerAdStart,this);var t={};t[_]="account",t[b]="trackingServer",t[w]="ssl",t[T]="visitorID",t[k]="analyticsVisitorID",t[x]="marketingCloudVisitorID",this._dataResolver=function(e){return this._isEnabled?this._appMeasurement[t[e]]:null},this._prepareAppMeasurement()},r.prototype.setup=function(){},r.prototype._teardown=function(){this._pluginManager.off(c,p,this._onPlayerVideoStart,this),this._pluginManager.off(c,f,this._onPlayerAdStart,this)},r.prototype._onPlayerVideoStart=function(){this._enqueueCall("aa.open",this._executeAdobeAnalyticsOpen)},r.prototype._onPlayerAdStart=function(){this._enqueueCall("aa.openAd",this._executeAdobeAnalyticsOpenAd)},r.prototype._resetAppMeasurementContextData=function(){delete this._appMeasurement.contextData["a.contentType"],delete this._appMeasurement.contextData["a.media.name"],delete this._appMeasurement.contextData["a.media.friendlyName"],delete this._appMeasurement.contextData["a.media.length"],delete this._appMeasurement.contextData["a.media.playerName"],delete this._appMeasurement.contextData["a.media.channel"],delete this._appMeasurement.contextData["a.media.view"],delete this._appMeasurement.contextData["a.media.ad.name"],delete this._appMeasurement.contextData["a.media.ad.friendlyName"],delete this._appMeasurement.contextData["a.media.ad.podFriendlyName"],delete this._appMeasurement.contextData["a.media.ad.length"],delete this._appMeasurement.contextData["a.media.ad.playerName"],delete this._appMeasurement.contextData["a.media.ad.pod"],delete this._appMeasurement.contextData["a.media.ad.podPosition"],delete this._appMeasurement.contextData["a.media.ad.podSecond"],delete this._appMeasurement.contextData["a.media.ad.CPM"],delete this._appMeasurement.contextData["a.media.ad.view"]},r.prototype._enqueueCall=function(e,t,n){this._isInitialized&&this._workQueue.isEmpty()?t.apply(this,n):(this.log("#_enqueueCall() : "+e),this._workQueue.addCommand(new o(t,this,n)))},r.prototype._executeAdobeAnalyticsOpen=function(){if(this._canProcess()){var e=this._pluginManager.request(c,h);this._inputDataSanitizer.sanitizeVideoInfo(e)&&(this.log("#_executeAdobeAnalyticsOpen(id="+e.id+", length="+e.length+", streamType="+e.streamType+", playerName="+e.playerName+")"),this._resetAppMeasurementContextData(),this._appMeasurement.contextData["a.contentType"]=S,this._appMeasurement.contextData["a.media.name"]=e.id,this._appMeasurement.contextData["a.media.friendlyName"]=e.name||"",this._appMeasurement.contextData["a.media.length"]=Math.floor(e.length)||"0.0",this._appMeasurement.contextData["a.media.playerName"]=e.playerName,this._appMeasurement.contextData["a.media.channel"]=this._pluginManager.request(d,g),this._appMeasurement.contextData["a.media.view"]=!0,this._appMeasurement.pev3=S,this._appMeasurement.pe=this._pluginManager.request(d,v)?A:E,this._appMeasurement.track())}},r.prototype._executeAdobeAnalyticsOpenAd=function(){if(this._canProcess()){var e=this._pluginManager.request(c,h);if(this._inputDataSanitizer.sanitizeVideoInfo(e)){var t=this._pluginManager.request(c,y);if(this._inputDataSanitizer.sanitizeAdBreakInfo(t)){var n=this._pluginManager.request(c,m);if(this._inputDataSanitizer.sanitizeAdInfo(n)){var r=s(e.id)+"_"+t.position;this.log("#_executeAdobeAnalyticsOpenAd(id="+n.id+", length="+n.length+", playerName="+t.playerName+", parentId="+e.id+", podId="+r+", parentPodPosition="+n.position+", podSecond="+t.startTime+", cpm="+n.cpm+")"),this._resetAppMeasurementContextData(),this._appMeasurement.contextData["a.contentType"]=j,this._appMeasurement.contextData["a.media.name"]=e.id,this._appMeasurement.contextData["a.media.channel"]=this._pluginManager.request(d,g),this._appMeasurement.contextData["a.media.ad.name"]=n.id,this._appMeasurement.contextData["a.media.ad.friendlyName"]=n.name||"",this._appMeasurement.contextData["a.media.ad.podFriendlyName"]=t.name||"",this._appMeasurement.contextData["a.media.ad.length"]=Math.floor(n.length)||"0.0",this._appMeasurement.contextData["a.media.ad.playerName"]=t.playerName,this._appMeasurement.contextData["a.media.ad.pod"]=r,this._appMeasurement.contextData["a.media.ad.podPosition"]=Math.floor(n.position)||"0.0",this._appMeasurement.contextData["a.media.ad.podSecond"]=Math.floor(t.startTime)||"0.0",this._appMeasurement.contextData["a.media.ad.CPM"]=n.cpm,this._appMeasurement.contextData["a.media.ad.view"]=!0,this._appMeasurement.pev3=j,this._appMeasurement.pe=this._pluginManager.request(d,v)?O:P,this._appMeasurement.track()}}}}},r.prototype._prepareAppMeasurement=function(){this._appMeasurement.isReadyToTrack()?this._onAppMeasurementReady():this._appMeasurement.callbackWhenReadyToTrack(this,this._onAppMeasurementReady)},r.prototype._onAppMeasurementReady=function(){return this._pluginManager.request(l.STATE_PLUGIN,l.ERROR_INFO)?(this.log("#_onAppMeasurementReady() > Unable to track: in ERROR state."),void this._workQueue.cancelAllCommands()):(this._workQueue.resume(),void r.__super__.setup.call(this))},t.AdobeAnalyticsPlugin=r}(e.ADB.core,e.ADB.va.plugins,e.ADB.va.utils)}(this),/*
 * ADOBE SYSTEMS INCORPORATED
 * Copyright 2014 Adobe Systems Incorporated
 * All Rights Reserved.

 * NOTICE:  Adobe permits you to use, modify, and distribute this file in accordance with the
 * terms of the Adobe license agreement accompanying it.  If you have received this file from a
 * source other than Adobe, then your use, modification, or distribution of it requires the prior
 * written permission of Adobe.
 */
function(e){"use strict";function t(){return t.prototype._instance||(t.prototype._instance=new n("sample-player")),t.prototype._instance}var n=e.radio.Channel;window.DefaultCommCenter=t}(window.ADB.core),function(e){function t(e,n){t.__super__.constructor.call(this,e,n)}function n(t){this.player=t,this.playerName=t.metadata.name,this.videoId=t.uuid,this.streamType=e.va.ASSET_TYPE_VOD,this._videoLoaded=!1,this._videoInfo=null}var r=e.core.radio.Event,i=e.core.extend,o=e.va.VideoInfo,a=e.va.ChapterInfo;i(t,r),t.VIDEO_LOAD="video_load",t.VIDEO_UNLOAD="video_unload",t.PLAY="play",t.PAUSE="pause",t.COMPLETE="COMPLETE",t.BUFFER_START="buffer_start",t.BUFFER_COMPLETE="buffer_complete",t.SEEK_START="seek_start",t.SEEK_COMPLETE="seek_complete",t.CHAPTER_START="chapter_start",t.CHAPTER_COMPLETE="chapter_complete",n.prototype.getVideoInfo=function(){return this._videoInfo.playhead=this.getPlayhead(),this._videoInfo},n.prototype.getDuration=function(){return this.player.metadata.length_in_seconds},n.prototype.getChapterOffset=function(e){for(var t=0,n=0;e>n;n++)t+=this.player.metadata.chapters_attributes[n].video_attributes.length_in_seconds;return t},n.prototype.getPlayhead=function(){var e=this.getChapterOffset(this.player.getCurrentChapter());return this.player.status.currentTime+e},n.prototype.getChapterInfo=function(){var e=new a,t=this.player.getCurrentChapter();return e.name=this.player.metadata.chapters_attributes[t].video_attributes.name,e.length=this.player.metadata.chapters_attributes[t].video_attributes.length_in_seconds,e.position=t+1,e.startTime=this.getChapterOffset(t),e},n.prototype._onPlay=function(){this._videoLoaded||this._startVideo(),DefaultCommCenter().trigger(new t(t.PLAY))},n.prototype._startVideo=function(){this._videoInfo=new o,this._videoInfo.id=this.videoId,this._videoInfo.playerName=this.playerName,this._videoInfo.length=this.getDuration(),this._videoInfo.streamType=this.streamType,this._videoInfo.playhead=this.getPlayhead(),this._videoLoaded=!0,DefaultCommCenter().trigger(new t(t.VIDEO_LOAD))},n.prototype._onPause=function(){DefaultCommCenter().trigger(new t(t.PAUSE))},n.prototype._onSeekStart=function(){DefaultCommCenter().trigger(new t(t.SEEK_START))},n.prototype._onSeekComplete=function(){DefaultCommCenter().trigger(new t(t.SEEK_COMPLETE))},n.prototype._onComplete=function(){DefaultCommCenter().trigger(new t(t.CHAPTER_COMPLETE)),DefaultCommCenter().trigger(new t(t.COMPLETE)),DefaultCommCenter().trigger(new t(t.VIDEO_UNLOAD)),this._isLoaded=!1},n.prototype._onChapterStart=function(){DefaultCommCenter().trigger(new t(t.CHAPTER_START))},n.prototype._onChapterComplete=function(){DefaultCommCenter().trigger(new t(t.CHAPTER_COMPLETE))},window.VideoPlayer=n,window.PlayerEvent=t}(window.ADB),function(e){"use strict";function t(e,n){t.__super__.constructor.call(this),this._player=e,this._provider=n}var n=e.core.extend,r=e.va.PlayerDelegate;n(t,r),t.prototype.getVideoInfo=function(){return this._player.getVideoInfo()},t.prototype.getAdBreakInfo=function(){return null},t.prototype.getAdInfo=function(){return null},t.prototype.getChapterInfo=function(){return this._player.getChapterInfo()},t.prototype.getQoSInfo=function(){return null},t.prototype.onVideoUnloaded=function(){this._provider.destroy()},t.prototype.onError=function(e){console.log("VideoAnalytics error. Message: "+e.message+". Details: "+e.details+".")},window.VyPlayerDelegate=t}(window.ADB),function(e,t,n){"use strict";function r(e,n){if(!e)throw new Error("Illegal argument. AppMeasurement reference cannot be null.");if(!n)throw new Error("Illegal argument. Player reference cannot be null.");this._player=n,this._playerDelegate=new t(this._player,this),this._appMeasurement=e;var r=new o(e);this._videoHeartbeat=new i(this._playerDelegate,[r]),this._setupVideoHeartbeat(),this._installEventListeners()}var i=e.va.VideoHeartbeat,o=e.va.plugins.AdobeAnalyticsPlugin,a=e.va.ConfigData;r.prototype.destroy=function(){this._player&&(this._videoHeartbeat.destroy(),this._videoHeartbeat=null,this._playerDelegate=null,this._uninstallEventListeners(),this._player=null)},r.prototype._setupVideoHeartbeat=function(){var e=new a("heartbeats.omtrdc.net","j2",n.PUBLISHER);e.debugLogging=!1,this._videoHeartbeat.configure(e)},r.prototype._onLoad=function(){this._videoHeartbeat.trackVideoLoad()},r.prototype._onUnload=function(){this._videoHeartbeat.trackVideoUnload()},r.prototype._onPlay=function(){this._videoHeartbeat.trackPlay()},r.prototype._onPause=function(){this._videoHeartbeat.trackPause()},r.prototype._onSeekStart=function(){this._videoHeartbeat.trackSeekStart()},r.prototype._onSeekComplete=function(){this._videoHeartbeat.trackSeekComplete()},r.prototype._onChapterStart=function(){this._videoHeartbeat.trackChapterStart()},r.prototype._onChapterComplete=function(){this._videoHeartbeat.trackChapterComplete()},r.prototype._onComplete=function(){this._videoHeartbeat.trackComplete()},r.prototype._installEventListeners=function(){DefaultCommCenter().on(PlayerEvent.VIDEO_LOAD,this._onLoad,this),DefaultCommCenter().on(PlayerEvent.VIDEO_UNLOAD,this._onUnload,this),DefaultCommCenter().on(PlayerEvent.PLAY,this._onPlay,this),DefaultCommCenter().on(PlayerEvent.PAUSE,this._onPause,this),DefaultCommCenter().on(PlayerEvent.SEEK_START,this._onSeekStart,this),DefaultCommCenter().on(PlayerEvent.SEEK_COMPLETE,this._onSeekComplete,this),DefaultCommCenter().on(PlayerEvent.CHAPTER_START,this._onChapterStart,this),DefaultCommCenter().on(PlayerEvent.CHAPTER_COMPLETE,this._onChapterComplete,this),DefaultCommCenter().on(PlayerEvent.COMPLETE,this._onComplete,this)},r.prototype._uninstallEventListeners=function(){DefaultCommCenter().off(PlayerEvent.VIDEO_LOAD,this._onLoad,this),DefaultCommCenter().off(PlayerEvent.VIDEO_UNLOAD,this._onUnload,this),DefaultCommCenter().off(PlayerEvent.PLAY,this._onPlay,this),DefaultCommCenter().off(PlayerEvent.PAUSE,this._onPause,this),DefaultCommCenter().off(PlayerEvent.SEEK_START,this._onSeekStart,this),DefaultCommCenter().off(PlayerEvent.SEEK_COMPLETE,this._onSeekComplete,this),DefaultCommCenter().off(PlayerEvent.CHAPTER_START,this._onChapterStart,this),DefaultCommCenter().off(PlayerEvent.CHAPTER_COMPLETE,this._onChapterComplete,this),DefaultCommCenter().off(PlayerEvent.COMPLETE,this._onComplete,this)},window.AnalyticsProvider=r}(window.ADB,window.VyPlayerDelegate,window.Configuration),function(){function e(e){var t=new Visitor(Configuration.MCID,Configuration.NAMESPACE);t.trackingServer=Configuration.TRACKING_SERVER;var n=new AppMeasurement;n.visitor=t,n.visitorNamespace=Configuration.NAMESPACE,n.trackingServer=Configuration.TRACKING_SERVER,n.account=Configuration.RSID;var r,i,o=-1;e.on("ready",function(){e.on("seek",function(){r._onSeekComplete()}),e.on("beforeSeek",function(){r._onSeekStart()}),e.on("pause",function(){r._onPause()}),e.on("play",function(){o!==e.getCurrentChapter()&&(-1===o&&(r=new VideoPlayer(e),i=new AnalyticsProvider(n,r),r._startVideo()),r._onChapterStart(),o+=1),r._onPlay()}),e.on("playerComplete",function(){r._onComplete(),o=0}),e.on("chapterComplete",function(){o=e.getCurrentChapter()-1,r._onChapterComplete()})})}var t,n=!0;try{t=new Vidyard.players}catch(r){throw new Error("The Vidyard API must be loaded before this script can execute")}for(var i in t)t.hasOwnProperty(i)&&(e(t[i]),n=!1);n&&console.warn("No Vidyard Players found. (include this script below player embed codes)")}();